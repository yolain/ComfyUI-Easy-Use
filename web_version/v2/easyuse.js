!function(){"use strict";try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode('.easyuse-prompt-await-select .p-select-label{font-size:12px!important}.easyuse-prompt-await-select .p-select-dropdown{width:1.5rem!important}.easyuse-prompt-await-select .p-select-dropdown svg{width:12px!important;height:12px!important}\n@charset "UTF-8";.dom-widget[data-v-f8c9efe3]>*{@apply h-full w-full;}.easyuse-model-info{color:#fff;max-width:90vw;font-family:var(--font-family)}.easyuse-model-content{display:flex;flex-direction:column;overflow:hidden}.easyuse-model-header{margin:0 0 15px}.easyuse-model-header-remark{display:flex;align-items:center;margin-top:5px}.easyuse-model-info h2{text-align:left;margin:0}.easyuse-model-info h5{text-align:left;margin:0 15px 0 0;font-weight:400;color:var(--descrip-text)}.easyuse-model-info p{margin:5px 0}.easyuse-model-info a{color:var(--theme-color-light)}.easyuse-model-info a:hover{text-decoration:underline}.easyuse-model-tags-list{display:flex;flex-wrap:wrap;list-style:none;gap:10px;max-height:200px;overflow:auto;margin:10px 0;padding:0}.easyuse-model-tag{background-color:var(--comfy-input-bg);border:2px solid var(--border-color);color:var(--input-text);display:flex;align-items:center;gap:5px;border-radius:5px;padding:2px 5px;cursor:pointer}.easyuse-model-tag--selected span:before{content:"✅";position:absolute;background-color:var(--theme-color-light);left:0;top:0;right:0;bottom:0;text-align:center}.easyuse-model-tag:hover{border:2px solid var(--theme-color-light)}.easyuse-model-tag p{margin:0}.easyuse-model-tag span{text-align:center;border-radius:5px;background-color:var(--theme-color-light);padding:2px;position:relative;min-width:20px;overflow:hidden;color:#fff}.easyuse-model-metadata .comfy-modal-content{max-width:100%}.easyuse-model-metadata label{margin-right:1ch;color:#ccc}.easyuse-model-metadata span{color:var(--theme-color-light)}.easyuse-preview{max-width:660px;margin-right:15px;position:relative}.easyuse-preview-group{position:relative;overflow:hidden;border-radius:.5rem;width:660px}.easyuse-preview-list{display:flex;flex-wrap:nowrap;width:100%;transition:all .5s ease-in-out}.easyuse-preview-list.no-transition{transition:none}.easyuse-preview-slide{display:flex;flex-basis:calc(50% - 5px);flex-grow:0;flex-shrink:0;position:relative;justify-content:center;align-items:center;padding-right:5px;padding-left:0}.easyuse-preview-slide:nth-child(2n){padding-left:5px;padding-right:0}.easyuse-preview-slide-content{position:relative;min-height:150px;width:100%}.easyuse-preview-slide-content .save{position:absolute;right:6px;z-index:12;bottom:6px;display:flex;align-items:center;height:26px;padding:0 9px;color:var(--input-text);font-size:12px;line-height:26px;background:#00000080;border-radius:13px;cursor:pointer;min-width:80px;text-align:center}.easyuse-preview-slide-content .save:hover{filter:brightness(120%);will-change:auto}.easyuse-preview-slide-content img{border-radius:14px;object-position:center center;max-width:100%;max-height:700px;border-style:none;vertical-align:middle}.easyuse-preview button{position:absolute;z-index:10;top:50%;display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:15px;border:1px solid rgba(66,63,78,.15);background-color:#423f4e80;color:#fffc;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transform:translateY(-50%)}.easyuse-preview button.left{left:10px}.easyuse-preview button.right{right:10px}.easyuse-model-detail{margin-top:16px;overflow:hidden;border:1px solid var(--border-color);border-radius:8px;width:300px}.easyuse-model-detail-head{height:40px;padding:0 10px;font-weight:500;font-size:14px;font-style:normal;line-height:40px}.easyuse-model-detail-body{box-sizing:border-box;font-size:12px}.easyuse-model-detail-item{display:flex;justify-content:flex-start;border-top:1px solid var(--border-color)}.easyuse-model-detail-item-label{flex-shrink:0;width:88px;padding-top:5px;padding-bottom:5px;padding-left:10px;border-right:1px solid var(--border-color);color:var(--input-text);font-weight:400}.easyuse-model-detail-item-value{display:flex;flex-wrap:wrap;padding:5px 10px;color:var(--input-text)}.easyuse-model-detail-textarea{border-top:1px solid var(--border-color);padding:10px;height:100px;overflow-y:auto;font-size:12px}.easyuse-model-detail-textarea textarea{width:100%;height:100%;border:0;background-color:transparent;color:var(--input-text)}.easyuse-model-detail-textarea textarea::placeholder{color:var(--descrip-text)}.easyuse-model-detail-textarea.empty{display:flex;justify-content:center;align-items:center;color:var(--descrip-text)}.easyuse-model-notes{background-color:#00000040;padding:5px;margin-top:5px}.easyuse-model-notes:empty{display:none}.easyuse-account-user{font-size:10px;color:var(--descrip-text);text-align:center}.easyuse-account-user-info{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;cursor:pointer}.easyuse-account-user-info .user{display:flex;align-items:center}.easyuse-account-user-info .edit{padding:5px 10px;background:var(--comfy-menu-bg);border-radius:4px}.easyuse-account-user-info:hover{filter:brightness(110%)}.easyuse-account-user-info h5{margin:0;font-size:10px;text-align:left}.easyuse-account-user-info h6{margin:0;font-size:8px;text-align:left;font-weight:300}.easyuse-account-user-info .remark{margin-top:4px}.easyuse-account-user-info .avatar{width:36px;height:36px;background:var(--comfy-input-bg);border-radius:50%;margin-right:5px;display:flex;justify-content:center;align-items:center;font-size:16px;overflow:hidden}.easyuse-account-user-info .avatar img{width:100%;height:100%}.easyuse-account-dialog{width:600px}.easyuse-account-dialog-main a,.easyuse-account-dialog-main a:visited{font-weight:400;color:var(--theme-color-light)}.easyuse-account-dialog-item{display:flex;justify-content:flex-start;align-items:center;padding:10px 0;border-bottom:1px solid var(--border-color)}.easyuse-account-dialog-item input{padding:5px;margin-right:5px}.easyuse-account-dialog-item input.key{flex:1}.easyuse-account-dialog-item button{cursor:pointer;margin-left:5px!important;padding:5px!important;font-size:16px!important}.easyuse-account-dialog-item button:hover{filter:brightness(120%)}.easyuse-account-dialog-item button.choose{background:var(--theme-color)}.easyuse-account-dialog-item button.delete{background:var(--error-color)}.easy-dropdown,.easy-nested-dropdown{position:relative;box-sizing:border-box;background-color:#171717;box-shadow:0 4px 4px #ffffff40;padding:0;margin:0;list-style:none;z-index:1000;overflow:visible;max-height:fit-content;max-width:fit-content}.easy-dropdown{position:absolute;border-radius:0}.easy-dropdown li.item,.easy-nested-dropdown li.item{font-weight:400;min-width:max-content}.easy-dropdown li.folder,.easy-nested-dropdown li.folder{cursor:default;position:relative;border-right:3px solid cyan}.easy-dropdown li.folder:after,.easy-nested-dropdown li.folder:after{content:">";position:absolute;right:2px;font-weight:400}.easy-dropdown li,.easy-nested-dropdown li{padding:4px 10px;cursor:pointer;font-family:system-ui;font-size:.7rem;position:relative}.easy-nested-dropdown{position:absolute;top:0;left:100%;margin:0;border:none;display:none}.easy-dropdown li.selected>.easy-nested-dropdown,.easy-nested-dropdown li.selected>.easy-nested-dropdown{display:block;border:none}.easy-dropdown li.selected,.easy-nested-dropdown li.selected{background-color:#e5e5e5;border:none}#crystools-root-easyuse{flex-direction:row;justify-content:center;flex-shrink:1;width:min-content;min-width:max-content;height:100%;margin:0 auto}#crystools-root-easyuse .crystools-monitor-container{width:100%;cursor:crosshair;display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-end;gap:5px;height:100%}#crystools-root-easyuse .crystools-monitor-container .crystools-monitor{background-color:var(--comfy-input-bg);position:relative;align-items:center;flex-direction:row;width:40px;height:100%}#crystools-root-easyuse .crystools-monitor-container .crystools-monitor .crystools-text{font-size:10px;text-align:right;margin-left:3px;position:absolute;font-weight:100;bottom:2px;z-index:10}#crystools-root-easyuse .crystools-monitor-container .crystools-content{position:relative;height:100%}#crystools-root-easyuse .crystools-monitor-container .crystools-slider{position:absolute;height:100%;width:0;box-shadow:inset 2px 2px 10px #0003}#crystools-root-easyuse .crystools-monitor-container .crystools-label{position:relative;width:100%;color:var(--input-text);font-weight:500;font-size:11px;left:2px;top:4px;text-align:right}:root{--theme-color:var(--p-primary-color, #60a5fa);--theme-color-light: var(--p-primary-hover-color, #93c5fd);--success-color: #52c41a;--error-color: #ff4d4f;--warning-color: #faad14;--font-family: Inter, -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;--p-inputtext-background: var(--p-form-field-background);--p-inputtext-disabled-background: var(--p-form-field-disabled-background);--p-inputtext-filled-background: var(--p-form-field-filled-background);--p-inputtext-filled-focus-background: var(--p-form-field-filled-focus-background);--p-inputtext-border-color: var(--p-form-field-border-color);--p-inputtext-hover-border-color: var(--p-form-field-hover-border-color);--p-inputtext-focus-border-color: var(--p-form-field-focus-border-color);--p-inputtext-invalid-border-color: var(--p-form-field-invalid-border-color);--p-inputtext-color: var(--p-form-field-color);--p-inputtext-disabled-color: var(--p-form-field-disabled-color);--p-inputtext-placeholder-color: var(--p-form-field-placeholder-color);--p-inputtext-shadow: var(--p-form-field-shadow);--p-inputtext-padding-x: var(--p-form-field-padding-x);--p-inputtext-padding-y: var(--p-form-field-padding-y);--p-inputtext-border-radius: var(--p-form-field-border-radius);--p-inputtext-focus-ring-width: var(--p-form-field-focus-ring-width);--p-inputtext-focus-ring-style: var(--p-form-field-focus-ring-style);--p-inputtext-focus-ring-color: var(--p-form-field-focus-ring-color);--p-inputtext-focus-ring-offset: var(--p-form-field-focus-ring-offset);--p-inputtext-focus-ring-shadow: var(--p-form-field-focus-ring-shadow);--p-inputtext-transition-duration: var(--p-form-field-transition-duration);--p-inputtext-sm-font-size: .875rem;--p-inputtext-sm-padding-x: .625rem;--p-inputtext-sm-padding-y: .375rem;--p-inputtext-lg-font-size: 1.125rem;--p-inputtext-lg-padding-x: .875rem;--p-inputtext-lg-padding-y: .625rem;--p-tooltip-max-width: 12.5rem;--p-tooltip-gutter: .25rem;--p-tooltip-shadow: var(--p-overlay-popover-shadow);--p-tooltip-padding: .5rem .75rem;--p-tooltip-border-radius: var(--p-overlay-popover-border-radius);--p-tooltip-background: var(--p-surface-700);--p-tooltip-color: var(--p-surface-0)}.comfyui-easyuse-theme,.comfyui-easyuse-primary{color:var(--theme-color-light)}.comfyui-easyuse-theme.point:hover,.comfyui-easyuse-primary.point:hover{opacity:.8}.comfyui-easyuse-success{color:var(--success-color)}.comfyui-easyuse-success.point:hover{opacity:.8}.comfyui-easyuse-error{color:var(--error-color)}.comfyui-easyuse-error.point:hover{opacity:.8}.comfyui-easyuse-warning,.comfyui-easyuse--warn{color:var(--warning-color)}.comfyui-easyuse-warning.point:hover,.comfyui-easyuse--warn.point:hover{opacity:.8}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-nowrap{flex-wrap:nowrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.grid{display:grid}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-10{gap:2.5rem}.gap-12{gap:3rem}.gap-2{gap:.5rem}.gap-2\\.5{gap:.625rem}.gap-20{gap:5rem}.gap-3{gap:.75rem}.gap-3\\.5{gap:.875rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-6{gap:1.5rem}.gap-7{gap:1.75rem}.gap-8{gap:2rem}.gap-\\[0\\.28rem\\]{gap:.28rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-4{-moz-column-gap:1rem;column-gap:1rem}.gap-y-1{row-gap:.25rem}.gap-y-6{row-gap:1.5rem}@media (min-width: 576px){.sm\\:col-span-4{grid-column:span 4/span 4}.sm\\:col-span-6{grid-column:span 6/span 6}.sm\\:ml-8{margin-left:2rem}.sm\\:mt-0{margin-top:0}.sm\\:flex{display:flex}.sm\\:h-60{height:15rem}.sm\\:\\!w-64{width:16rem!important}.sm\\:w-40{width:10rem}.sm\\:w-44{width:11rem}.sm\\:w-56{width:14rem}.sm\\:w-60{width:15rem}.sm\\:w-64{width:16rem}.sm\\:w-80{width:20rem}.sm\\:w-96{width:24rem}.sm\\:w-\\[30rem\\]{width:30rem}.sm\\:w-auto{width:auto}.sm\\:min-w-\\[30rem\\]{min-width:30rem}.sm\\:flex-row{flex-direction:row}.sm\\:flex-col{flex-direction:column}.sm\\:flex-nowrap{flex-wrap:nowrap}.sm\\:items-start{align-items:flex-start}.sm\\:items-end{align-items:flex-end}.sm\\:items-center{align-items:center}.sm\\:justify-center{justify-content:center}.sm\\:justify-between{justify-content:space-between}.sm\\:gap-2{gap:.5rem}.sm\\:p-20{padding:5rem}.sm\\:px-10{padding-left:2.5rem;padding-right:2.5rem}.sm\\:py-10{padding-bottom:2.5rem;padding-top:2.5rem}.sm\\:py-5{padding-bottom:1.25rem;padding-top:1.25rem}.sm\\:pt-32{padding-top:8rem}.sm\\:text-left{text-align:left}.sm\\:text-sm{font-size:.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\\:-bottom-12{bottom:-3rem}.md\\:-bottom-28{bottom:-7rem}.md\\:-bottom-8{bottom:-2rem}.md\\:-bottom-\\[26rem\\]{bottom:-26rem}.md\\:-left-12{left:-3rem}.md\\:-left-28{left:-7rem}.md\\:-left-32{left:-8rem}.md\\:-left-4{left:-1rem}.md\\:-left-48{left:-12rem}.md\\:-left-\\[22rem\\]{left:-22rem}.md\\:bottom-0{bottom:0}.md\\:left-10{left:2.5rem}.md\\:left-\\[32rem\\]{left:32rem}.md\\:left-\\[42rem\\]{left:42rem}.md\\:top-1\\/2{top:50%}.md\\:top-32{top:8rem}.md\\:top-8{top:2rem}.md\\:col-span-2{grid-column:span 2/span 2}.md\\:col-span-4{grid-column:span 4/span 4}.md\\:col-span-6{grid-column:span 6/span 6}.md\\:ml-auto{margin-left:auto}.md\\:block{display:block}.md\\:flex{display:flex}.md\\:hidden{display:none}.md\\:h-\\[20rem\\]{height:20rem}.md\\:h-\\[32rem\\]{height:32rem}.md\\:\\!w-80{width:20rem!important}.md\\:w-2\\/12{width:16.666667%}.md\\:w-40{width:10rem}.md\\:w-5\\/12{width:41.666667%}.md\\:w-56{width:14rem}.md\\:w-6\\/12{width:50%}.md\\:w-60{width:15rem}.md\\:w-8\\/12{width:66.666667%}.md\\:w-80{width:20rem}.md\\:w-\\[100rem\\]{width:100rem}.md\\:w-\\[26rem\\]{width:26rem}.md\\:w-\\[30rem\\]{width:30rem}.md\\:w-\\[50rem\\]{width:50rem}.md\\:w-\\[52rem\\]{width:52rem}.md\\:w-\\[60rem\\]{width:60rem}.md\\:w-\\[95rem\\]{width:95rem}.md\\:w-screen{width:100vw}.md\\:flex-initial{flex:0 1 auto}.md\\:-translate-y-1\\/2{--tw-translate-y: -50% }.md\\:-translate-y-1\\/2,.md\\:translate-x-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.md\\:translate-x-0{--tw-translate-x: 0px }.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:flex-col{flex-direction:column}.md\\:items-end{align-items:flex-end}.md\\:items-center{align-items:center}.md\\:justify-start{justify-content:flex-start}.md\\:justify-center{justify-content:center}.md\\:gap-20{gap:5rem}.md\\:gap-4{gap:1rem}.md\\:p-5{padding:1.25rem}.md\\:p-8{padding:2rem}}@media (min-width: 992px){.lg\\:left-20{left:5rem}.lg\\:left-\\[36rem\\]{left:36rem}.lg\\:left-\\[50rem\\]{left:50rem}.lg\\:col-span-1{grid-column:span 1/span 1}.lg\\:col-span-2{grid-column:span 2/span 2}.lg\\:col-span-4{grid-column:span 4/span 4}.lg\\:col-span-6{grid-column:span 6/span 6}.lg\\:mb-0{margin-bottom:0}.lg\\:mt-0{margin-top:0}.lg\\:mt-20{margin-top:5rem}.lg\\:flex{display:flex}.lg\\:hidden{display:none}.lg\\:h-10{height:2.5rem}.lg\\:h-32{height:8rem}.lg\\:h-\\[28rem\\]{height:28rem}.lg\\:\\!w-\\[30rem\\]{width:30rem!important}.lg\\:w-3\\/12{width:25%}.lg\\:w-32{width:8rem}.lg\\:w-\\[28rem\\]{width:28rem}.lg\\:w-\\[64rem\\]{width:64rem}.lg\\:w-fit{width:-moz-fit-content;width:fit-content}.lg\\:max-w-6xl{max-width:72rem}.lg\\:flex-row{flex-direction:row}.lg\\:gap-0{gap:0}.lg\\:rounded-2xl{border-radius:1rem}.lg\\:rounded-3xl{border-radius:1.5rem}.lg\\:rounded-xl{border-radius:.75rem}.lg\\:p-7{padding:1.75rem}.lg\\:px-2{padding-left:.5rem;padding-right:.5rem}.lg\\:px-20{padding-left:5rem;padding-right:5rem}.lg\\:px-56{padding-left:14rem;padding-right:14rem}.lg\\:px-8{padding-left:2rem;padding-right:2rem}.lg\\:px-9{padding-left:2.25rem;padding-right:2.25rem}.lg\\:py-20{padding-bottom:5rem;padding-top:5rem}.lg\\:py-7{padding-bottom:1.75rem;padding-top:1.75rem}.lg\\:pt-0{padding-top:0}.lg\\:text-2xl{font-size:1.5rem;line-height:2rem}.lg\\:text-5xl{font-size:3rem;line-height:1}.lg\\:text-base{font-size:1rem;line-height:1.5rem}.lg\\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1200px){.xl\\:-left-12{left:-3rem}.xl\\:-left-28{left:-7rem}.xl\\:bottom-0{bottom:0}.xl\\:left-36{left:9rem}.xl\\:left-\\[42rem\\]{left:42rem}.xl\\:left-\\[60rem\\]{left:60rem}.xl\\:col-span-3{grid-column:span 3/span 3}.xl\\:col-span-4{grid-column:span 4/span 4}.xl\\:col-span-6{grid-column:span 6/span 6}.xl\\:block{display:block}.xl\\:flex{display:flex}.xl\\:hidden{display:none}.xl\\:h-\\[36\\.25rem\\]{height:36.25rem}.xl\\:\\!w-40{width:10rem!important}.xl\\:w-3\\/12{width:25%}.xl\\:w-6\\/12{width:50%}.xl\\:w-96{width:24rem}.xl\\:w-\\[29rem\\]{width:29rem}.xl\\:max-w-36{max-width:9rem}.xl\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.xl\\:flex-row{flex-direction:row}.xl\\:items-start{align-items:flex-start}.xl\\:items-center{align-items:center}.xl\\:gap-1{gap:.25rem}.xl\\:gap-6{gap:1.5rem}.xl\\:text-left{text-align:left}}.comfyui-easyuse-toast{position:fixed;z-index:99999;top:0;left:0;height:0;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:start}.comfyui-easyuse-toast-container{position:relative;height:fit-content;padding:4px;margin-top:-100px;opacity:0;z-index:3;-webkit-transition:all .3s ease-in-out;-khtml-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-ms-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.comfyui-easyuse-toast-container:last-child{z-index:1}.comfyui-easyuse-toast-container.show{opacity:1;margin-top:0!important;transform:translateY(0)}.comfyui-easyuse-toast-container:not(.show){z-index:1}.comfyui-easyuse-toast-container>div{position:relative;background:var(--comfy-menu-bg);color:var(--input-text);height:fit-content;box-shadow:0 0 10px #000000e0;padding:9px 12px;border-radius:var(--border-radius);font-size:14px;pointer-events:all;margin-top:40px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-toast-container>div>span{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-toast-container>div>span i{font-size:16px;margin-right:8px}.comfyui-easyuse-toast-container>div>span i.loading{animation:loading-rotate 1s linear infinite}.comfyui-easyuse-toast-container a{cursor:pointer;text-decoration:underline;color:var(--theme-color-light);margin-left:4px;display:inline-block;line-height:1}.comfyui-easyuse-toast-container a:hover{color:var(--theme-color-light);text-decoration:none}@keyframes loading-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.comfyui-easyuse-selector{position:relative}.comfyui-easyuse-selector.hide{display:none}.comfyui-easyuse-selector__header{--height:26px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;height:var(--height);padding-bottom:10px;border-bottom:1px solid var(--border-color-solid)}.comfyui-easyuse-selector__header_button{height:var(--height);width:var(--height);border-radius:var(--border-radius);border:1px solid var(--border-color);font-size:11px;background:var(--bg-color);box-shadow:none;cursor:pointer;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-selector__header_button:hover{filter:brightness(1.2)}.comfyui-easyuse-selector__header_button:hover i{color:var(--error-color)}.comfyui-easyuse-selector__header_button i{font-size:16px;color:var(--input-text);-webkit-transition:all .3s ease-in-out;-khtml-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-ms-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.comfyui-easyuse-selector__header_search{flex:1;margin-left:10px;border-radius:var(--border-radius);border:1px solid var(--border-color);font-size:11px;background:var(--bg-color);padding:0 8px;height:var(--height);display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-selector__header_search i{font-size:16px}.comfyui-easyuse-selector__header_search .search{vertical-align:middle;margin-left:5px;outline:none;resize:none;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;box-shadow:none;overflow-y:scroll;background:transparent;width:100%;line-height:var(--height);font-size:12px;color:var(--input-text);-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;flex:1}.comfyui-easyuse-selector__content{list-style:none;padding:0;margin:0;min-height:150px;height:calc(100% - 28px);overflow-y:auto;overflow-x:hidden}.comfyui-easyuse-selector-item{display:inline-block;position:relative}.comfyui-easyuse-selector-item__tag{display:inline-block;vertical-align:middle;margin-top:8px;margin-right:8px;padding:4px;color:var(--input-text);background-color:var(--bg-color);border-radius:var(--border-radius);border:1px solid var(--border-color);font-size:11px;cursor:pointer;overflow:hidden;position:relative}.comfyui-easyuse-selector-item__tag:hover{filter:brightness(1.2)}.comfyui-easyuse-selector-item__tag.hide{display:none}.comfyui-easyuse-selector-item__tag input{--ring-color: transparent;position:relative;box-shadow:none;border:1px solid var(--border-color);border-radius:2px;background:linear-gradient(135deg,var(--comfy-menu-bg) 0%,var(--comfy-input-bg) 60%)}.comfyui-easyuse-selector-item__tag input[type=checkbox]{display:inline-block;flex-shrink:0;vertical-align:middle;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid var(--border-color);background-origin:border-box;padding:0;width:1rem;height:1rem;border-radius:4px;color:var(--theme-color-light);-webkit-user-select:none;user-select:none}.comfyui-easyuse-selector-item__tag input[type=checkbox]:checked{border:1px solid var(--theme-color-light);background-color:var(--theme-color-light);background-image:url("data:image/svg+xml,%3csvg viewBox=\'0 0 16 16\' fill=\'white\' xmlns=\'http://www.w3.org/2000/svg\'%3e%3cpath d=\'M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z\'/%3e%3c/svg%3e")}.comfyui-easyuse-selector-item__tag input span{margin:0 4px;vertical-align:middle}.comfyui-easyuse-selector-preview{position:absolute;left:-180px;top:-110px;z-index:2;border:1px solid var(--border-color);border-radius:var(--border-radius);background:var(--comfy-menu-bg);-webkit-backdrop-filter:saturate(180%) blur(40px);-khtml-backdrop-filter:saturate(180%) blur(40px);-moz-backdrop-filter:saturate(180%) blur(40px);-ms-backdrop-filter:saturate(180%) blur(40px);-o-backdrop-filter:saturate(180%) blur(40px);backdrop-filter:saturate(180%) blur(40px);overflow:hidden}.comfyui-easyuse-selector-preview img{width:150px;height:150px}.comfyui-easyuse-selector-preview__text{font-size:12px;padding:5px 10px;max-width:130px;color:var(--input-text)}.comfyui-easyuse-selector-preview__text h6{line-height:1.15;font-size:10px;margin:10px 0}.comfyui-easyuse-chooser-dialog{max-width:600px}.comfyui-easyuse-chooser-dialog-title{font-size:18px;font-weight:700;text-align:center;color:var(--input-text);margin:0}.comfyui-easyuse-chooser-dialog-images{margin-top:10px;display:flex;flex-wrap:wrap;width:100%;box-sizing:border-box}.comfyui-easyuse-chooser-dialog-images img{width:50%;height:auto;cursor:pointer;box-sizing:border-box;filter:brightness(80%)}.comfyui-easyuse-chooser-dialog-images img:hover{filter:brightness(100%)}.comfyui-easyuse-chooser-dialog-images img.selected{border:4px solid var(--success-color)}.comfyui-easyuse-chooser-dialog-hidden{display:none;height:0}.comfyui-easyuse-contextmenu{--height: 26px;--padding: 8px;font-family:var(--font-family);position:fixed;top:0;left:0;width:100%;max-width:200px;min-width:100px;min-height:100px;padding:var(--padding) 0;box-shadow:0 0 10px #00000040;background-color:var(--tr-odd-bg-color);border-radius:var(--border-radius);z-index:10;will-change:transform}.comfyui-easyuse-contextmenu-item-divider{height:1px;width:100%;background-color:var(--border-color);margin:var(--padding) 0}.comfyui-easyuse-contextmenu-item-content{height:var(--height);padding:0 12px;cursor:pointer;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-contextmenu-item-content span{font-size:11px;color:var(--input-text);display:-webkit-box;-webkit-line-clamp:1;overflow:hidden;word-break:break-all;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;flex:1}.comfyui-easyuse-contextmenu-item-content i{color:var(--input-text);margin-left:4px;display:block;width:0;height:0;border-width:4px 4px 0;border-style:solid;border-color:var(--descrip-text) transparent transparent;-webkit-transform:scaleY(.8) rotate(-90deg);-khtml-transform:scaleY(.8) rotate(-90deg);-moz-transform:scaleY(.8) rotate(-90deg);-ms-transform:scaleY(.8) rotate(-90deg);-o-transform:scaleY(.8) rotate(-90deg);transform:scaleY(.8) rotate(-90deg)}.comfyui-easyuse-contextmenu-item-content:hover{background:var(--theme-color)}.comfyui-easyuse-contextmenu-item.disabled .comfyui-easyuse-contextmenu-item-content span{color:var(--border-color);cursor:default}.comfyui-easyuse-contextmenu-item.disabled .comfyui-easyuse-contextmenu-item-content:hover{background:transparent}.comfyui-easyuse-contextmenu-submenu{font-family:var(--font-family);position:absolute;top:0;left:200px;max-width:200px;width:200px;min-width:100px;min-height:--height;padding:var(--padding) 0;box-shadow:0 0 10px #00000040;background-color:var(--tr-odd-bg-color);border-radius:var(--border-radius);z-index:10;will-change:transform}.comfyui-easyuse-contextmenu-model{position:relative}#easyuse-model-thumbnail{display:none;position:fixed;z-index:9999;width:200px;height:auto;opacity:0;-webkit-transition:all .5s cubic-bezier(.55,0,.1,1);-khtml-transition:all .5s cubic-bezier(.55,0,.1,1);-moz-transition:all .5s cubic-bezier(.55,0,.1,1);-ms-transition:all .5s cubic-bezier(.55,0,.1,1);-o-transition:all .5s cubic-bezier(.55,0,.1,1);transition:all .5s cubic-bezier(.55,0,.1,1)}.comfyui-easyuse-slider{width:100%;height:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-slider-item{height:inherit;min-width:25px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-webkit-flex-direction:column;-khtml-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;-o-flex-direction:column;flex-direction:column}.comfyui-easyuse-slider-item-input{height:15px;font-size:10px;color:var(--input-text)}.comfyui-easyuse-slider-item-label{height:15px;border:none;color:var(--descrip-text);font-size:8px}.comfyui-easyuse-slider-item-scroll{width:5px;height:calc(100% - 30px);background:var(--comfy-input-bg);border-radius:10px;position:relative}.comfyui-easyuse-slider-item-bar{width:10px;height:10px;background:linear-gradient(to bottom,var(--input-text),var(--descrip-text));border-radius:100%;box-shadow:0 2px 10px var(--bg-color);position:absolute;top:0;left:-2.5px;cursor:pointer;z-index:1}.comfyui-easyuse-slider-item-area{width:100%;border-radius:20px;position:absolute;bottom:0;background:var(--input-text);z-index:0}.comfyui-easyuse-slider-item.positive .comfyui-easyuse-slider-item-label{color:var(--success-color)}.comfyui-easyuse-slider-item.positive .comfyui-easyuse-slider-item-area{background:var(--success-color)}.comfyui-easyuse-slider-item.negative .comfyui-easyuse-slider-item-label{color:var(--error-color)}.comfyui-easyuse-slider-item.negative .comfyui-easyuse-slider-item-area{background:var(--error-color)}.comfyui-easyuse-map{height:100%;background:var(--comfy-menu-bg)}.comfyui-easyuse-map .p-splitter-gutter-handle{height:1px!important}.comfyui-easyuse-map-nodes{height:100%;position:relative}.comfyui-easyuse-map-nodes__header{position:absolute;z-index:2;top:0;left:0;width:100%;padding:.25rem 0 .25rem .5rem;height:2.8rem;background:var(--comfy-menu-bg);border-bottom:1px solid var(--border-color);display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-webkit-backdrop-filter:saturate(180%) blur(40px);-khtml-backdrop-filter:saturate(180%) blur(40px);-moz-backdrop-filter:saturate(180%) blur(40px);-ms-backdrop-filter:saturate(180%) blur(40px);-o-backdrop-filter:saturate(180%) blur(40px);backdrop-filter:saturate(180%) blur(40px)}.comfyui-easyuse-map-nodes__header .title{font-size:13px;color:var(--input-text);font-weight:400;line-height:1.5;-webkit-user-select:none;user-select:none}.comfyui-easyuse-map-nodes__header .toolbar{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-map-nodes__header .toolbar .icon{font-size:.85rem;margin-left:.25rem;cursor:pointer}.comfyui-easyuse-map-nodes__content{position:relative;padding:2.8rem 0 0;height:100%;overflow:auto}.comfyui-easyuse-map-nodes__content-searchbox{padding:1rem}.comfyui-easyuse-map-nodes__content dl .label{padding-left:1rem}.comfyui-easyuse-map-nodes__content ul,.comfyui-easyuse-map-nodes__content ol,.comfyui-easyuse-map-nodes__content dl{list-style-type:none;padding:0;margin:0}.comfyui-easyuse-map-nodes__content ul .toolbar span,.comfyui-easyuse-map-nodes__content ol .toolbar span,.comfyui-easyuse-map-nodes__content dl .toolbar span{font-size:13px}.comfyui-easyuse-map-nodes__content ul .toolbar span.pi-eye,.comfyui-easyuse-map-nodes__content ol .toolbar span.pi-eye,.comfyui-easyuse-map-nodes__content dl .toolbar span.pi-eye{color:var(--input-text)}.comfyui-easyuse-map-nodes__content ul .toolbar span.pi-eye-slash,.comfyui-easyuse-map-nodes__content ol .toolbar span.pi-eye-slash,.comfyui-easyuse-map-nodes__content dl .toolbar span.pi-eye-slash{color:var(--descrip-text)}.comfyui-easyuse-map-nodes__content ul .toolbar span.pi-eye-slash.never,.comfyui-easyuse-map-nodes__content ol .toolbar span.pi-eye-slash.never,.comfyui-easyuse-map-nodes__content dl .toolbar span.pi-eye-slash.never{opacity:.5}.comfyui-easyuse-map-nodes__content ol{padding:0;padding-block-start:2px;padding-inline-start:1rem}.comfyui-easyuse-map-nodes__content .no_result{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;text-align:center}.comfyui-easyuse-map-nodes .p-contextmenu{display:block!important;position:fixed!important;z-index:1000!important}.comfyui-easyuse-map-nodes-group{position:relative;overflow:hidden;width:100%;height:2rem;cursor:default;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;pointer-events:auto}.comfyui-easyuse-map-nodes-group .left,.comfyui-easyuse-map-nodes-group .right{height:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-map-nodes-group .left{padding-left:.5rem;margin-right:.25rem;-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;flex:1}.comfyui-easyuse-map-nodes-group .icon{font-size:.85rem;margin-right:.25rem}.comfyui-easyuse-map-nodes-group .label{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;height:100%;width:100%;min-width:80px}.comfyui-easyuse-map-nodes-group .label span{font-size:14px;color:var(--input-text);font-weight:400;line-height:1.5;display:-webkit-box;-webkit-line-clamp:1;overflow:hidden;word-break:break-all;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.comfyui-easyuse-map-nodes-group:hover{background:var(--content-hover-bg)!important}.comfyui-easyuse-map-nodes-group.active{background:var(--theme-color)!important}.comfyui-easyuse-map-nodes-group.active .label{color:#fff;cursor:default}.comfyui-easyuse-map-nodes-group.never .label{color:var(--descrip-text);opacity:.4}.comfyui-easyuse-map-nodes-group.bypass .label{color:var(--descrip-text)}.comfyui-easyuse-map-nodes-node{height:2rem;cursor:default;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;position:relative;overflow:hidden;pointer-events:auto}.comfyui-easyuse-map-nodes-node .node_id{background:#0b2000;padding:.25rem;margin:0 0 0 .25rem;border-radius:.25rem;text-align:center;color:#fff;font-size:12px}.comfyui-easyuse-map-nodes-node .left{height:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse-map-nodes-node .label{text-indent:.5rem;font-size:14px;color:var(--input-text);font-weight:400;line-height:1.5;-webkit-box-flex:1;-ms-flex:1;-webkit-flex:1;flex:1;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;margin-right:.25rem;height:2rem;line-height:2rem;width:100%;display:-webkit-box;-webkit-line-clamp:1;overflow:hidden;word-break:break-all;text-overflow:ellipsis;-webkit-box-orient:vertical}.comfyui-easyuse-map-nodes-node .label.error{color:var(--error-color)}.comfyui-easyuse-map-nodes-node:hover{background:var(--content-hover-bg)!important}.comfyui-easyuse-map-nodes-node.never .label{color:var(--descrip-text);opacity:.5}.comfyui-easyuse-map-nodes-node.bypass .label{color:#f0f;opacity:.5}.comfyui-easyuse-toolbar{border-radius:0 12px 12px 0;min-width:50px;height:24px;position:fixed;bottom:85px;left:0;display:flex;align-items:center;z-index:1000;background-color:var(--comfy-menu-bg);border:1px solid var(--bg-color);-webkit-backdrop-filter:saturate(180%) blur(40px);-khtml-backdrop-filter:saturate(180%) blur(40px);-moz-backdrop-filter:saturate(180%) blur(40px);-ms-backdrop-filter:saturate(180%) blur(40px);-o-backdrop-filter:saturate(180%) blur(40px);backdrop-filter:saturate(180%) blur(40px)}.comfyui-easyuse-toolbar-icon{height:100%;padding:0 4px;display:flex;justify-content:center;align-items:center;font-size:12px;color:var(--input-text);transition:all .3s ease-in-out;cursor:pointer}.comfyui-easyuse-toolbar-icon svg{width:14px;height:14px}.comfyui-easyuse-toolbar-icon:hover.group{color:var(--warning-color)}.comfyui-easyuse-toolbar-icon:hover.rocket{color:var(--theme-color)}.comfyui-easyuse-toolbar-nodes-map{position:absolute;top:50px;left:10px;width:200px;border-radius:12px;min-height:100px;max-height:600px;color:var(--descrip-text);background-color:var(--comfy-menu-bg);border:1px solid var(--bg-color);-webkit-backdrop-filter:saturate(180%) blur(40px);-khtml-backdrop-filter:saturate(180%) blur(40px);-moz-backdrop-filter:saturate(180%) blur(40px);-ms-backdrop-filter:saturate(180%) blur(40px);-o-backdrop-filter:saturate(180%) blur(40px);backdrop-filter:saturate(180%) blur(40px);z-index:399;padding-top:0;overflow:hidden}.comfyui-easyuse-toolbar-nodes-map .no-result-placeholder-content{-webkit-transform:scale(.8);-khtml-transform:scale(.8);-moz-transform:scale(.8);-ms-transform:scale(.8);-o-transform:scale(.8);transform:scale(.8)}.comfyui-easyuse-toolbar-nodes-map .comfyui-easyuse-map-nodes{min-height:100px;max-height:600px}.comfyui-easyuse-toolbar-nodes-map .comfyui-easyuse-map-nodes__header:before{content:"…";position:absolute;left:.25rem;top:2.75rem;transform:translateY(-2rem) rotate(90deg);width:.5rem;height:.5rem;display:inline-block;overflow:hidden;line-height:5px;padding:3px 4px;cursor:move;vertical-align:middle;font-size:12px;font-family:sans-serif;letter-spacing:2px;color:var(--drag-text);z-index:3;text-shadow:1px 0 1px black}.comfyui-easyuse-toolbar-nodes-map .comfyui-easyuse-map-nodes__header .title{cursor:move;padding-left:.25rem}.comfyui-easyuse-toolbar-nodes-map .comfyui-easyuse-map-nodes__content{max-height:calc(600px - 2.7rem)}.no-result-placeholder{display:flex;justify-content:center;align-items:center;height:100%}.no-result-placeholder-content{text-align:center;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:column;-khtml-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;-o-flex-direction:column;flex-direction:column;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between}.no-result-placeholder .p-card{background-color:transparent!important;box-shadow:none;text-align:center}.no-result-placeholder h3{color:var(--input-text);margin-bottom:.5rem}.no-result-placeholder p{color:var(--descrip-text);margin-bottom:1rem;margin-top:0}#comfyui-easyuse-components{position:absolute;top:0;left:0;z-index:3}.comfyui-easyuse{--primary-bg:var(--theme-color)!important;--primary-hover-bg: var(--theme-color-light)!important;--p-datatable-header-cell-padding: .15rem 1rem;--p-datatable-body-cell-padding: .15rem 1rem;--border-color-solid: var(--border-color);--border-radius: 8px}.comfyui-easyuse.dark-theme{--fg-color: #fff;--bg-color: #242427;--content-bg:#18181b;--content-fg:#fff;--content-hover-bg: #27272a;--comfy-menu-bg: rgba(24,24,27,.9);--comfy-input-bg: #242427;--input-text: #ffffff;--descrip-text: #71717a;--drag-text: #ccc;--error-text: #ff4444;--border-color: #3f3f46;--border-color-solid: #2a2a2e;--tr-even-bg-color: rgba(28,28,28,.9);--tr-odd-bg-color: rgba(19,19,19,.9)}.comfyui-easyuse ::-webkit-scrollbar{width:0em}.comfyui-easyuse ::-webkit-scrollbar-track{background-color:transparent}.comfyui-easyuse ::-webkit-scrollbar-thumb{background-color:transparent;border-radius:2px}.comfyui-easyuse ::-webkit-scrollbar-thumb:hover{background-color:transparent}.comfyui-easyuse body{font-family:var(--font-family)!important;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.comfyui-easyuse textarea{font-family:var(--font-family)!important}.comfyui-easyuse hr{border:1px solid var(--border-color)}.comfyui-easyuse .comfy-multiline-input{background-color:transparent;border:1px solid var(--border-color-solid);border-radius:var(--border-radius);padding:8px;font-size:12px}.comfyui-easyuse #comfy-settings-dialog{border:1px solid var(--border-color);background:transparent;-webkit-backdrop-filter:blur(8px) brightness(120%);backdrop-filter:blur(8px) brightness(120%);box-shadow:none}.comfyui-easyuse .comfy-modal{border:1px solid var(--border-color);box-shadow:none;-webkit-backdrop-filter:blur(8px) brightness(120%);backdrop-filter:blur(8px) brightness(120%)}.comfyui-easyuse .cm-title{background-color:transparent!important}.comfyui-easyuse .cm-notice-board{border-radius:10px!important;border:1px solid var(--border-color)!important}.comfyui-easyuse .cm-menu-container{margin-bottom:50px!important}.comfyui-easyuse .cn-manager-custom_milk_white .tg-column-name,.comfyui-easyuse .cmm-manager-custom_milk_white .tg-column-name{color:var(--input-text)}.comfyui-easyuse .cn-manager-custom_milk_white .tg-body-message,.comfyui-easyuse .cmm-manager-custom_milk_white .tg-body-message{text-align:center;color:var(--descrip-text)!important}.comfyui-easyuse .cn-manager-custom_milk_white .tg-body-frame .tg-cell,.comfyui-easyuse .cmm-manager-custom_milk_white .tg-body-frame .tg-cell{color:var(--input-text)}.comfyui-easyuse .cn-manager-custom_milk_white .tg-body-frame .cn-node-name a,.comfyui-easyuse .cn-manager-custom_milk_white .tg-body-frame .cmm-node-name a,.comfyui-easyuse .cmm-manager-custom_milk_white .tg-body-frame .cn-node-name a,.comfyui-easyuse .cmm-manager-custom_milk_white .tg-body-frame .cmm-node-name a{color:var(--theme-color)!important}.comfyui-easyuse .comfy-menu{border-radius:16px;box-shadow:0 0 1px var(--descrip-text);-webkit-backdrop-filter:blur(8px) brightness(120%);backdrop-filter:blur(8px) brightness(120%)}.comfyui-easyuse .comfy-menu button.comfy-settings-btn{font-size:12px}.comfyui-easyuse .comfy-menu-btns{margin-bottom:4px}.comfyui-easyuse .comfy-menu button,.comfyui-easyuse .comfy-modal button{font-size:14px;padding:4px 0;margin-bottom:4px}.comfyui-easyuse .comfy-menu-btns button,.comfyui-easyuse .comfy-list-actions button{font-size:10px}.comfyui-easyuse .comfy-menu>button,.comfyui-easyuse .comfy-menu-btns button,.comfyui-easyuse .comfy-menu .comfy-list button,.comfyui-easyuse .comfy-modal button{border-width:1px}.comfyui-easyuse #comfy-dev-save-api-button{justify-content:center}.comfyui-easyuse #queue-button{position:relative;overflow:hidden;min-height:30px;z-index:1}.comfyui-easyuse #queue-button:after{clear:both;content:attr(data-attr);background:green;color:#fff;width:var(--process-bar-width);height:100%;position:absolute;top:0;left:0;z-index:0;text-align:center;display:flex;justify-content:center;align-items:center}.comfyui-easyuse #shareButton{background:linear-gradient(to left,var(--theme-color),var(--theme-color-light))!important;color:#fff!important}.comfyui-easyuse .litegraph.litecontextmenu{--height: 24px;--padding: 6px;font-family:var(--font-family);padding:var(--padding) 0;border-radius:var(--border-radius);-webkit-backdrop-filter:blur(8px) brightness(120%);backdrop-filter:blur(8px) brightness(120%)}.comfyui-easyuse .litegraph.litecontextmenu .litemenu-title{padding:var(--padding)}.comfyui-easyuse .litegraph.litecontextmenu>div:first-child.litemenu-title{margin-top:-6px}.comfyui-easyuse .litegraph.litecontextmenu .submenu{height:var(--height);line-height:var(--height);padding:0 18px 0 12px;margin:0;background:transparent!important}.comfyui-easyuse .litegraph.litecontextmenu .submenu.has_submenu{border-right:none;position:relative}.comfyui-easyuse .litegraph.litecontextmenu .submenu.has_submenu:after{content:"";display:block;width:0;height:0;border-width:4px 4px 0;border-style:solid;border-color:var(--input-text) transparent transparent;transform:translateY(-50%) rotate(-90deg);top:50%;position:absolute}.comfyui-easyuse .litegraph.litecontextmenu .submenu.separator{height:1px;width:100%;background-color:var(--border-color)!important;margin:var(--padding) 0;border:none}.comfyui-easyuse .litegraph.litecontextmenu .submenu:last-child.separator{display:none}.comfyui-easyuse .litegraph.litecontextmenu .submenu:hover:not(.separator){background:var(--theme-color)!important}.comfyui-easyuse .litegraph.lite-search-item{background-color:var(--comfy-input-bg)!important;filter:brightness(100%)}.comfyui-easyuse .litegraph.lite-search-item:hover{filter:brightness(120%);color:var(--input-text)}.comfyui-easyuse .graphdialog{-webkit-backdrop-filter:blur(8px) brightness(120%);backdrop-filter:blur(8px) brightness(120%)}.comfyui-easyuse .graphdialog button{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center}.comfyui-easyuse .comfyui-menu{background:var(--comfy-menu-bg);border-bottom:1px solid var(--bg-color)}.comfyui-easyuse .side-tool-bar-container{background:var(--comfy-menu-bg);border-right:1px solid var(--bg-color)}.comfyui-easyuse .comfy-modal-content{width:100%}.comfyui-easyuse-poseEditor{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-align-items:center;-khtml-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;text-align:center;font-size:18px;line-height:1.5}.comfyui-easyuse .dom-widget{padding:0 4px}.comfyui-easyuse .pi.pi-circle-fill[data-testid=noColor]{color:#000!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=red]{color:#af3535!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=brown]{color:#38291f!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=green]{color:#346434!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=blue]{color:#1f1f48!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=pale_blue]{color:#006691!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=cyan]{color:#008181!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=purple]{color:#422342!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=yellow]{color:#c09430!important}.comfyui-easyuse .pi.pi-circle-fill[data-testid=black]{color:#000c!important}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();
var e;import{g as t,$ as s,a,t as l,b as o,s as n,c as i,d,u,j as r,N as c,e as p,i as v,f as m,h as g,k as h,l as y,m as f}from"./assets/extensions-F2XzGGOz.js";import{B as A,r as w,i as x,k as b,a as S,c as _,L as C,b as M,J as E,w as k,S as I,e as B,M as N,U as D,E as H,K as z,o as V,V as Q,f as R,d as j,H as O,W as L,C as Z,F as G,R as P,m as Y,X as U,I as W,Y as T,Z as F,_ as $}from"./assets/vue-BPkYw06T.js";import{d as X,b as J,s as q,c as K,e as ee,T as te,f as se,g as ae,i as le,j as oe}from"./assets/vendor-CGOQZ2cl.js";import{c as ne}from"./assets/lodash-CZi7izHi.js";import{u as ie,a as de}from"./assets/vueuse-D9zYHXJ_.js";import{P as ue}from"./assets/primevue-qoa2mjzu.js";import"./assets/primeuix-eJS-oMjX.js";const re=X("graphStore",{state:e=>({selectors:[],selectors_styles:{},seg_selectors:[],slider_controls:[]}),actions:{setSelectors(e){this.selectors=ne(e)},setStyles(e,t){this.selectors_styles[e]||(this.selectors_styles[e]=t)},setSegSelectors(e){this.seg_selectors=ne(e)},setSliderControls(e){this.slider_controls=ne(e)}}}),ce=["data-id"],pe=["placeholder"],ve=["onMouseenter","onMouseleave"],me=["onClick"],ge=["name","checked"],he=["src"],ye={key:0},fe={key:1},Ae="comfyui-easyuse-selector",we={__name:"stylesSelector",props:{id:{type:String|Number,default:""},type:{type:String,default:""},selectedStyles:{type:Array,default:[]},show:{type:Boolean,default:!1}},emits:["chooseStyle"],setup(e,{emit:o}){const n=A((e=>t("Comfy.Locale")||"en")),i=e,d=re(),{selectors_styles:u}=J(d),r=w([]);x((e=>i.type),(async e=>{r.value=[],e&&await(async e=>{if(u.value[i.type])return!0;const t=await a.fetchApi(`/easyuse/prompt/styles?name=${e}`);if(200===t.status){let e=(await t.json()).map(((e,t)=>(e.index=t,e)));return await d.setStyles(i.type,e),!0}return l.error(s("Get styles list Failed")),!1})(e)&&p()}),{immediate:!0});const c=o,p=e=>{const t=i.selectedStyles,s=ne(u.value[i.type]);r.value=s.sort(((e,t)=>e.index-t.index)).sort(((e,s)=>t.includes(s.name)-t.includes(e.name)))},v=w(""),m=e=>e.toLowerCase(),g=b({}),h=e=>{g.src="",g.name="",g.positive="",g.negative=""},y=async e=>{const t=await a.fetchApi(`/easyuse/prompt/styles/image?name=${e}&styles_name=${i.type}`);if(200===t.status){const s=await t.text();if(s.startsWith("http"))return s;return`/easyuse/prompt/styles/image?name=${e}&styles_name=${i.type}`}},f=e=>{e.target.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QNLaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMSA3OS4xNDYyODk5Nzc3LCAyMDIzLzA2LzI1LTIzOjU3OjE0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuMSAoMjAyMzA5MDUubS4yMzE2IDk3OWM4NmQpICAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjA3NEU1QzNCNUJBMTFFRUExMUVDNkZDRjI0NzlBN0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjA3NEU1QzRCNUJBMTFFRUExMUVDNkZDRjI0NzlBN0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMDc0RTVDMUI1QkExMUVFQTExRUM2RkNGMjQ3OUE3RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMDc0RTVDMkI1QkExMUVFQTExRUM2RkNGMjQ3OUE3RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwODxAPDgwTExQUExMcGxsbHB8fHx8fHx8fHx8BBwcHDQwNGBAQGBoVERUaHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fH//AABEIAIAAgAMBEQACEQEDEQH/xACLAAEAAgMBAQEAAAAAAAAAAAAABAUCAwYBBwgBAQADAQEBAAAAAAAAAAAAAAABAgMEBQYQAAEEAgECAwUHAwUAAAAAAAEAAgMEEQUhEgYxEwdBYSIyFFFxgVJyIxWRoTOxwdFiJBEBAAICAQQBBAIDAAAAAAAAAAECEQMxIUESBBOB0SIyUXGCIwX/2gAMAwEAAhEDEQA/AP1SgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDXJYgj+d4afsVopM8KWvEcy8it1pXdMcjXO/Lnn+im2u0cwV2VniW1UXEBAQEBAQEBAQEBAQRNlc+mgyDh7zhv+5WunX5Sw37fCHM2dh48r06ank7N6rn2Ja7qa4hw5BBwQV010uK+/DsO29v/J68SOI86Jxjl95HIP4gryPc0fHfHaXu+j7Py68zzHSVquV2iAgICAgICAgICDyTr6HdHz4PTnwypjnqic46OauNbY6mGX99p+L8w9xaeV6OufHt0eXtr59M9VFb194E9LmuH3kf6rv17avO2ets7YVcuuuk/uOa3PgBlxP4BdMbq9nLPqbJ5xDbSM9azFXpyujuSO+Bo5kcf0NPyj25We2YtEzaPxdfr6519Kz+UvqEIlELBKQZQ0eYRwC7HOPxXzVsZ6cPpK5x15ZKEiAgICAgICAgICCNc1tG40CzA2XHg4j4h9zhyFpr22p+s4Z7NNL/ALRlTX+1dVFBJOJrcTI2lxZHYcBx+sldWv3bzOMVn6fZy39OkRnNo+v3aoOx9JOxks8tqwHDPS+1IW8+IzGWZVrf9DZHSMR/j9yvo656zMz9V1rdLqdYwsoVIqwd87mNAc79Tvmd+JXJt332ftMy6temlP1jCasmggICAgICAgICAgwlmiib1SPDB7zhWrWZ4VtaI5QXb2l5ojYHvLjjIGB/dbR61sZlhPtVziFb3PYdd0luCvAZbXludVZ1huZQPgyTx4/atvWj4rxaZ6d/6Ye1/t1zSI6zx/bzti5YqaOpBeg8u41n/oa14cA4ccH7lPs1jZebVn8eyPUtOrXFbR+XdYx9xa90pjeXROaSCXDj+oysZ9S+Mx1bR7uvOJ6LGOWKVgfG8PafAtOQueazHLqraJjMMlCRAQEBAQEBAQRLNp4HTFx/2/4WtKR3Y32T2Udl8j3knk/aeSu6kREPPvaZlpY3DmyY8DyrzPZWv8tkvmFv7bg12RyR1DGeeMj2KnjE9JaeUx1hi1sgaet/U7JIOMcE8Dj7FMREcK2zPKMasr5XO6fmOVt5xEOadVplYU45IAOhxa72kLm2TFuXXqrNeF1WtlwDZeHfmHguO+vHDupszylLJsICAgICAg8cMjCQiYR5IVpFmc1Q5qLXHPgfbhbV2MLaYlqNQAYA4V/kV+PDA1fcp81fjYurtYMu4CmLZRNYhtZWBAI8CqzdaKN8df3LObtIokxwe5ZzZrFUloIGFnLWHqhIgICAgICAgxMbSpyjDAwAq3kr4MTWCnzR4MX02PGHDISNmETqieWba7QABwB4KJumKNgjaFXK0VZYChYQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEHzvuv1G7k1W9s6/Xamtaq15oaonmnsCR008HntaI4K8/s4HOeEGXZXqTud7uqtG7r6kNa5HdMU9aaw9zZde+FkrHsnr1+M2MZBPIKDRe9cO2K2mjs/V0m7X61lWzq32W+ZFEbfkSSO4B+GL9zw4QWm99TqFVmjsaSu7fUtxeNM2aTmSMBbHI9zWHqHVJlnDTxjPKCJL6sea502t1D7Ouhr0rNqxNM2CSNuwnkgjAi6ZOotdEc/Egibf1j/j+7JNL9DWdWg84TWn2ywtdFKyMZb5Tg0nLyG55x48IJ3bXqe/ea/a26dFtyTXtldDUqyOdNL5VqaDHS5gwXRxMe3xz1Y9iDKP1Sa7uefUnR7TyYqUVoEU5jY6pJZIz1RY4ZiMYd7TkexBA749Wr2gtCKlrIpGs17NjK29LLWmPmMsyiFkbIZsPEdKQu6y0eAQWdD1E2L93W1tzRyCDY3paev2NaxVlhIjidMfMb5vmse1kbi9pZ7MeKDt0BAQEBAQfEPU+lFY2++q2K1uSSezTnrReVsTTmiZVYHOd9LVuQyubIwANkbxz4FA7FsQ0NrrLNXX7N0eo1+3darGDYPjb5j6prxVRajjDetsRAjj4yM4CDre2uxO7q2hqtm7nua6w9rp5tfXgoSxwyTOMr42PlrPe4Nc8jJJQRDb3Oz1fYFrcV7As0mu3u7nbWkBZ9LSfG5nlxs/yySWRiNozwcBBx9EXadGTXz62+LG41+jZS6adhzS6vfnlkEjgzEZax7T8ePFBu3nbPdUXqJZsw6S5cqbCW1YdIY2lxhhfEGMjfHtoG9HxucwPEZy4/A7kMC87aq2Kmv7mdvxuqGmklFjUU4G2Yp21rdyW00t+kJkFl88pY9vDgwNDvEoK9np73FBcHdkrt2+rZd5FjQx7O0b8WvbzDKZhN1SSse573QdeAHkN+Ichj3p2rBvZq9vUnY2tcNQPqpZYZpJ44GxXqzHdVlzZZpib73mLHViI85c1BZ6OpsIe/6/XSuntevdsz6+8+pI0/yM1dtWVr2Z644P8rmyuj6S53jxkh9aQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBB/9k="};return(t,a)=>(S(),_("div",{class:E(Ae+` ${Ae}-styles`),"data-id":e.id,onMouseleave:h},[r.value.length>0&&e.show?(S(),_(C,{key:0},[M("div",{class:E(Ae+"__header")},[M("div",{class:E(Ae+"__header_button"),onClick:a[0]||(a[0]=e=>(c("chooseStyle",[]),void(v.value="")))},a[2]||(a[2]=[M("i",{class:"mdi mdi-trash-can"},null,-1)]),2),M("div",{class:E(Ae+"__header_search")},[a[3]||(a[3]=M("i",{class:"mdi mdi-magnify"},null,-1)),k(M("textarea",{class:"search","onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e),dir:"ltr",rows:1,placeholder:B(s)("Type here to search styles ...")},null,8,pe),[[I,v.value]])],2)],2),M("div",{class:E(Ae+"__content"),onMouseleave:p},[(S(!0),_(C,null,N(r.value,((t,s)=>(S(),_("div",{class:E(Ae+"-item"),key:s,onMouseenter:e=>(async e=>{if(!e.imageSrc){if(e.imageLoading)return;e.imageLoading=!0;const t=await y(e.imgName).finally((()=>e.imageLoading=!1));e.imageSrc=t}g.name="zh"==n&&e.name_cn?e.name_cn:e.name,g.positive=e.prompt,g.negative=e.negative_prompt,g.src=e.imageSrc})(t),onMouseleave:D((e=>h()),["stop"])},[M("span",{class:E([Ae+"-item__tag",{hide:!(e.selectedStyles.includes(t.name)||-1!=m(t.name).indexOf(m(v.value))||t.name_cn&&-1!=m(t.name_cn).indexOf(m(v.value)))}]),onClick:e=>(e=>{let t=i.selectedStyles;t.includes(e.name)?t=t.filter((t=>t!==e.name)):t.push(e.name),c("chooseStyle",t)})(t)},[M("input",{type:"checkbox",name:t.name,checked:e.selectedStyles.includes(t.name)},null,8,ge),M("span",null,H(["zh","zh_CN"].includes(n.value)&&t.name_cn?t.name_cn:t.name),1)],10,me)],42,ve)))),128))],34),(null==g?void 0:g.src)||(null==g?void 0:g.positive)||(null==g?void 0:g.negative)?(S(),_("div",{key:0,class:E(Ae+"-preview")},[g.src?(S(),_("img",{key:0,src:g.src,ref:"image",alt:"preview",onError:f},null,40,he)):z("",!0),M("div",{class:E(Ae+"-preview__text")},[M("b",null,H(g.name),1),M("div",{class:E(Ae+"-preview__prompt")},[g.positive?(S(),_("h6",ye,[a[4]||(a[4]=M("span",{class:"comfyui-easyuse-success"},"positive:",-1)),M("span",null,H(g.positive),1)])):z("",!0),g.negative?(S(),_("h6",fe,[a[5]||(a[5]=M("span",{class:"comfyui-easyuse-error"},"negative:",-1)),M("span",null,H(g.negative),1)])):z("",!0)],2)],2)],2)):z("",!0)],64)):z("",!0)],42,ce))}},xe=["data-id"],be=["onClick"],Se=["name","checked"],_e="comfyui-easyuse-selector",Ce={__name:"segSelector",props:{id:{type:String|Number,default:""},type:{type:String,default:""},selected:{type:Array,default:[]},show:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:t}){const a=e,l=w([]);x((e=>a.type),(async e=>{switch(e){case"selfie_multiclass_256x256":l.value=["Background","Hair","Body","Face","Clothes","Others"];break;case"human_parsing_lip":l.value=["Background","Hat","Hair","Glove","Sunglasses","Upper-clothes","Dress","Coat","Socks","Pants","Jumpsuits","Scarf","Skirt","Face","Left-arm","Right-arm","Left-leg","Right-leg","Left-shoe","Right-shoe"];break;case"human_parts (deeplabv3p)":l.value=["Background","Face","Hair","Glasses","Top-clothes","Bottom-clothes","Torso-skin","Left-arm","Right-arm","Left-leg","Right-leg","Left-foot","Right-foot"]}}),{immediate:!0});const o=t;return(t,n)=>{var i;return S(),_("div",{class:E(_e+` ${_e}-seg`),"data-id":e.id},[(null==(i=l.value)?void 0:i.length)>0&&e.show?(S(!0),_(C,{key:0},N(l.value,((t,l)=>(S(),_("div",{class:E(_e+"-item"),key:l},[M("span",{class:E(_e+"-item__tag"),onClick:e=>(e=>{let t=ne(a.selected);t.includes(e)?t=t.filter((t=>t!==e)):t.push(e),o("select",t)})(l)},[M("input",{type:"checkbox",name:t,checked:e.selected.includes(l)},null,8,Se),M("span",null,H(B(s)(t)),1)],10,be)],2)))),128)):z("",!0)],10,xe)}}},Me=["data-id"],Ee=["onMousedown","onDblclick"],ke="comfyui-easyuse-slider",Ie="ipadapter layer weights",Be={__name:"sliderControl",props:{id:{type:String|Number,default:""},mode:{type:String,default:""},type:{type:String,default:""},values:{type:Array,default:[]},show:{type:Boolean,default:!1}},emits:["changeValues","showSlider"],setup(e,{emit:t}){const s=e,a=t,l=(e,t,s)=>(e-t)/(s-t)*100,o=(e,t,a=void 0)=>{if(s.mode===Ie){let s={3:2.5,6:1}[t]||0;return{default:12==e?s:0,min:-1,max:3,step:.05,value:void 0!==a?a:12==e?s:0,top:void 0!==a?100-l(a,-1,3)+"%":null,height:void 0!==a?l(a,-1,3)+"%":null}}};x((e=>s.mode),(async(e,t)=>{var l;if(e!==t&&e===Ie)if(!t&&(null==(l=s.values)?void 0:l.length)>0){const e=s.values.map((e=>{const t=e.split(":");return o(s.values.length,t[0],parseFloat(t[1]))}));await a("changeValues",e)}else{let e="sd1"==s.type?16:12,t=Array.from({length:e},((t,s)=>o(e,s)));await a("changeValues",t)}a("showSlider")}),{immediate:!0}),x((e=>s.type),((e,t)=>{if(e!=t&&s.mode==Ie){let e="sd1"==s.type?16:12,t=Array.from({length:e},((t,s)=>o(e,s)));a("changeValues",t)}}));const n=w(null),i=w(null);return V((()=>{document.onmouseup=e=>document.onmousemove=null})),(t,o)=>{var d;return S(),_("div",{class:E(ke),"data-id":e.id},[(null==(d=e.values)?void 0:d.length)>0&&e.show?(S(!0),_(C,{key:0},N(e.values,((t,o)=>(S(),_("div",{class:E([ke+"-item",{positive:3==o&&"sdxl"==e.type&&e.mode==Ie},{negative:6==o&&"sdxl"==e.type&&e.mode==Ie}]),key:o},[M("div",{class:E(ke+"-item-input")},H(t.value),3),M("div",{class:E(ke+"-item-scroll"),ref_for:!0,ref_key:"scroll",ref:n},[M("div",{class:E(ke+"-item-bar"),ref_for:!0,ref_key:"bar",ref:i,style:Q({top:t.top||100-l(t.default,t.min,t.max)+"%"}),onMousedown:e=>((e,t,l)=>{let o=e||window.event,d=n.value[l],u=i.value[l],r=ne(s.values),c=o.clientY-u.offsetTop;document.onmousemove=e=>{let s=(e||window.event).clientY-c;s<0?s=0:s>d.offsetHeight-u.offsetHeight&&(s=d.offsetHeight-u.offsetHeight);let o=(t.max-t.min)/t.step,n=(d.offsetHeight-u.offsetHeight)/o;s=Math.round(s/n)*n;const i=Math.floor(s/(d.offsetHeight-u.offsetHeight)*100)+"%",p=Math.floor((d.offsetHeight-u.offsetHeight-s)/(d.offsetHeight-u.offsetHeight)*100)+"%",v=parseFloat(parseFloat(t.max-(t.max-t.min)*(s/(d.offsetHeight-u.offsetHeight))).toFixed(2));r[l]={...r[l],top:i,height:p,value:v},a("changeValues",r),window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}})(e,t,o),onDblclick:e=>((e,t,l)=>{let o=ne(s.values);o[l]={...o[l],top:null,height:null,value:t.default},a("changeValues",o)})(0,t,o)},null,46,Ee),M("div",{class:E(ke+"-item-area"),style:Q({height:t.height||l(t.default,t.min,t.max)+"%"})},null,6)],2),M("div",{class:E(ke+"-item-label")},[M("span",null,H(t.label),1)],2)],2)))),128)):z("",!0)],8,Me)}}},Ne={__name:"index",setup(e){const t=re(),{selectors:s,seg_selectors:a,slider_controls:l}=J(t),u=w({}),r=async e=>{var a,l,o,d,r,c,p;await n(1);const v=i(e,"styles"),m=(null==(a=e.properties.values)?void 0:a.length)>0?e.properties.values:[];let g=ne(s.value);g.push({id:e.id,type:v.value,value:m,show:!1});const h=g.length-1;await t.setSelectors(g),(null==(l=e.flags)?void 0:l.collapsed)&&e.collapse();let y=null==(r=null==(d=null==(o=u.value[e.id])?void 0:o._)?void 0:d.vnode)?void 0:r.el;if(!y)return;e.properties.values||e.setProperty("values",[]),g[h].show=!0,await t.setSelectors(g),v.setValue=s=>{v.value=s,g[h].type=s,e.properties.values=[],g[h].value=[],t.setSelectors(g)},e.addDOMWidget("select_styles","btn",y,{setValue(){setTimeout((e=>{g[h].value=value.split(","),t.setSelectors(g)}),150)},getValue(){var t,a;return e.properties.values=(null==(a=null==(t=s.value)?void 0:t[h])?void 0:a.value)||[],e.properties.values.join(",")}}),((null==(c=e.size)?void 0:c[0])<150||(null==(p=e.size)?void 0:p[1])<150)&&e.setSize([425,500]);const f=e.onRemoved;e.onRemoved=function(){if(f&&(null==f||f.apply(this,arguments)),void 0!==s.value.findIndex((t=>t.id==e.id))){let e=ne(s.value);e.splice(h,1),t.setSelectors(e)}return f}},c=w({}),p=async e=>{var s,l,o,u,r;await n(1);const p=i(e,"method"),v=(null==(s=e.properties.values)?void 0:s.length)>0?e.properties.values:[];let m=ne(a.value);m.push({id:e.id,type:p.value,value:v,show:!1});const g=m.length-1;await t.setSegSelectors(m),(null==(l=e.flags)?void 0:l.collapsed)&&e.collapse();let h=null==(r=null==(u=null==(o=c.value[e.id])?void 0:o._)?void 0:u.vnode)?void 0:r.el;if(!h)return;e.properties.values||e.setProperty("values",[]),m[g].show=!0,await t.setSegSelectors(m),p.setValue=s=>{p.value=s,m[g].type=s,e.properties.values=[],m[g].value=[],d(e,i(e,"confidence"),"selfie_multiclass_256x256"===p.value),e.setSize([300,"selfie_multiclass_256x256"===p.value?260:400]),t.setSegSelectors(m)},e.addDOMWidget("mask_components","btn",h,{setValue(){setTimeout((e=>{m[g].value=value.split(","),t.setSegSelectors(m)}),150)},getValue(){var t;return e.properties.values=(null==(t=a.value)?void 0:t[g].value)||[],e.properties.values.join(",")}}),d(e,i(e,"confidence"),"selfie_multiclass_256x256"===p.value),e.setSize([300,"selfie_multiclass_256x256"===p.value?260:500]);const y=e.onRemoved;e.onRemoved=function(){if(y&&(null==y||y.apply(this,arguments)),void 0!==a.value.findIndex((t=>t.id==e.id))){let e=ne(a.value);e.splice(g,1),t.setSegSelectors(e)}return y}},v=w({}),m=async e=>{var s,a,o,d,u;await n(1);const r=i(e,"mode"),c=i(e,"model_type"),p=(null==(s=e.properties.values)?void 0:s.length)>0?e.properties.values:[];(null==(a=e.flags)?void 0:a.collapsed)&&e.collapse();let m=ne(l.value);m.push({id:e.id,type:c.value,mode:r.value,value:p,show:!1});const g=m.length-1;await t.setSliderControls(m);let h=null==(u=null==(d=null==(o=v.value[e.id])?void 0:o._)?void 0:d.vnode)?void 0:u.el;if(!h)return;e.addDOMWidget("values","btn",h,{setValue(){},getValue(){var t;const s=(null==(t=l.value)?void 0:t[g].value)||[];return e.properties.values=s.map(((e,t)=>`${t}:${e.value}`)),e.properties.values.join(",")}}),e.properties.values||e.setProperty("values",[]),e.setSize("sdxl"==c.value?[375,320]:[455,320]),c.callback=s=>{m=ne(l.value),m[g].type!=s&&(e.setSize("sdxl"==s?[375,320]:[455,320]),m[g].value=[],m[g].type=s,t.setSliderControls(m))};const y=e.onRemoved;e.onRemoved=function(){if(y&&(null==y||y.apply(this,arguments)),void 0!==l.value.findIndex((t=>t.id==e.id))){let e=ne(l.value);e.splice(g,1),t.setSliderControls(e)}return y}};return V((e=>{o.registerExtension({name:"Comfy.EasyUse.Components",async beforeRegisterNodeDef(e,t){const s=e.prototype.onNodeCreated;"easy stylesSelector"==t.name&&(e.prototype.onNodeCreated=async function(){return s&&(null==s||s.apply(this,arguments)),await r(this),s}),"easy humanSegmentation"==t.name&&(e.prototype.onNodeCreated=async function(){return s&&(null==s||s.apply(this,arguments)),await p(this),s}),"easy sliderControl"==t.name&&(e.prototype.onNodeCreated=async function(){return s&&(null==s||s.apply(this,arguments)),await m(this),s}),"easy poseEditor"==t.name&&(e.prototype.onNodeCreated=async function(){s&&(null==s||s.apply(this,arguments));const e=document.createElement("div");return e.className="comfyui-easyuse-poseEditor",e.innerHTML='<div>This node is about to be removed, you can use <a href="https://github.com/AlekPet/ComfyUI_Custom_Nodes_AlekPet" target="_blank">ComfyUI_Custom_Nodes_AlekPet</a> to replace it.</div>',this.addDOMWidget("editor","btn",e),s})}})})),(e,o)=>(S(),_(C,null,[(S(!0),_(C,null,N(B(s),((e,a)=>(S(),R(we,{ref_for:!0,ref:t=>{t&&(u.value[e.id]=t)},type:e.type,key:a,id:e.id,show:e.show,selectedStyles:e.value,onChooseStyle:e=>((e,a)=>{let l=ne(s.value);l[a].value=e,t.setSelectors(l)})(e,a)},null,8,["type","id","show","selectedStyles","onChooseStyle"])))),128)),(S(!0),_(C,null,N(B(a),((e,s)=>(S(),R(Ce,{ref_for:!0,ref:t=>{t&&(c.value[e.id]=t)},type:e.type,key:s,id:e.id,show:e.show,selected:e.value,onSelect:e=>((e,s)=>{let l=ne(a.value);l[s].value=e,t.setSegSelectors(l)})(e,s)},null,8,["type","id","show","selected","onSelect"])))),128)),(S(!0),_(C,null,N(B(l),((e,s)=>(S(),R(Be,{ref_for:!0,ref:t=>{t&&(v.value[e.id]=t)},type:e.type,key:s,id:e.id,show:e.show,mode:e.mode,values:e.value,onChangeValues:e=>((e,s)=>{let a=ne(l.value);a[s].value=e,t.setSliderControls(a)})(e,s),onShowSlider:e=>(e=>{let s=ne(l.value);s[e].show=!0,t.setSliderControls(s)})(s)},null,8,["type","id","show","mode","values","onChangeValues","onShowSlider"])))),128))],64))}},De={class:"no-result-placeholder"},He={class:"no-result-placeholder-content"},ze={key:0},Ve={__name:"noResultsPlaceholder",props:{icon:{type:String,default:"",required:!1},iconSize:{type:String,default:"3rem",required:!1},title:{type:String,required:!0},message:{type:String,required:!1},buttonLabel:{type:String,default:"",required:!1}},emits:["action"],setup:e=>(t,s)=>(S(),_("div",De,[j(B(K),null,{content:O((()=>[M("div",He,[M("i",{class:E(e.icon),style:Q({"font-size":e.iconSize,"margin-bottom":".5rem"})},null,6),M("h3",null,H(e.title),1),e.message?(S(),_("p",ze,H(e.message),1)):z("",!0),e.buttonLabel?(S(),R(B(q),{key:1,label:e.buttonLabel,onClick:s[0]||(s[0]=e=>t.$emit("action")),class:"p-button-text"},null,8,["label"])):z("",!0)])])),_:1})]))},Qe={class:"left flex-1"},Re={key:0,class:"node_id"},je={key:1,class:"edit"},Oe={class:"right toolbar"},Le={__name:"node",props:{node:{type:Object,default:{}}},emits:["mousedown","mouseup","changeMode"],setup(e){const s=u(),a=A((e=>t("EasyUse.NodesMap.DisplayNodeID"))),l=e,n=w(!1),i=w(null),d=w("");x((e=>l.node.is_edit),(e=>{e&&(d.value=l.node.title)}));const p=async()=>{let e=o.canvas.graph._nodes.find((e=>e.id==l.node.id));e?(e.is_edit=!1,e.title=d.value,await s.setNodes(o.canvas.graph._nodes),n.value=!1):n.value=!1};return(t,s)=>{var l;return S(),_("div",{draggable:!1,class:E(["comfyui-easyuse-map-nodes-node",{never:void 0!==e.node.mode&&e.node.mode==B(c).NEVER},{bypass:void 0!==e.node.mode&&e.node.mode==B(c).BYPASS}])},[M("div",Qe,[a.value?(S(),_("span",Re,H(e.node.id),1)):z("",!0),(null==(l=e.node)?void 0:l.is_edit)?(S(),_("div",je,[j(B(ee),{ref_key:"modifyRef",ref:i,modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),variant:"outline",size:"small",type:"text",onBlur:p,onKeydown:[L(p,["enter"]),L(p,["esc"])],style:{width:"100%"}},null,8,["modelValue"])])):void 0!==e.node.title?(S(),_("span",{key:2,class:"label",onDblclick:s[1]||(s[1]=D((t=>B(r)(e.node.id)),["stop"]))},H(e.node.title),33)):(S(),_("span",{key:3,class:"label error",onDblclick:s[2]||(s[2]=D((t=>B(r)(e.node.id)),["stop"]))},H(e.node.type),33))]),M("div",Oe,[j(B(q),{size:"small",icon:e.node.mode==B(c).ALWAYS?"pi pi-eye":"pi pi-eye-slash",text:"",rounded:"",severity:"secondary",onClick:s[3]||(s[3]=D((e=>t.$emit("changeMode")),["stop"])),onMousedown:s[4]||(s[4]=D((e=>t.$emit("mousedown")),["stop"])),onMouseup:s[5]||(s[5]=D((e=>t.$emit("mouseup")),["stop"]))},null,8,["icon"])])],2)}}},Ze={class:"left flex-1"},Ge={key:1,class:"edit"},Pe={key:2,class:"label"},Ye={class:"right toolbar"},Ue={key:0,class:"child"},We={__name:"group",props:{item:{type:Object,default:{}}},emits:["mousedown","mouseup","changeMode"],setup(e){const t=e,s=u(),a=w(!1),l=w(null),n=w("");x((e=>t.item.info.is_edit),(e=>{e&&(n.value=t.item.info.title)}));const i=e=>{var a,l;let n=t.item;if(!(null==(a=n.info)?void 0:a.is_edit)&&(null==(l=n.children)?void 0:l.length)>0){let e=o.canvas.graph._groups.find((e=>e.pos[0]==n.info.pos[0]&&e.pos[1]==n.info.pos[1]));e&&(e.show_nodes=!e.show_nodes,s.setGroups(o.canvas.graph._groups))}},d=async()=>{let e=t.item,l=o.canvas.graph._groups.find((t=>t.pos[0]==e.info.pos[0]&&t.pos[1]==e.info.pos[1]));l?(l.is_edit=!1,l.title=n.value,await s.setGroups(o.canvas.graph._groups),a.value=!1):a.value=!1};return(t,s)=>{var a,o,u;return S(),_(C,null,[M("div",{class:E("comfyui-easyuse-map-nodes-group"),onClick:i},[M("div",Ze,[e.item.children?(S(),_("i",{key:0,class:E(["icon",e.item.info.show_nodes?"pi pi-folder-open":"pi pi-folder"]),style:Q({color:e.item.info.color})},null,6)):z("",!0),(null==(a=e.item.info)?void 0:a.is_edit)?(S(),_("div",Ge,[j(B(ee),{ref_key:"modifyRef",ref:l,modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),variant:"outline",size:"small",type:"text",onBlur:d,onKeydown:[L(d,["enter"]),L(d,["esc"])],style:{width:"100%"}},null,8,["modelValue"])])):(S(),_("div",Pe,[M("span",null,H(e.item.info.title),1)]))]),M("div",Ye,[(null==(o=e.item.children)?void 0:o.length)>0?(S(),R(B(q),{key:0,size:"small",icon:e.item.children.find((e=>e.mode==B(c).ALWAYS))?"pi pi-eye":"pi pi-eye-slash",text:"",rounded:"",severity:"secondary",onClick:s[1]||(s[1]=D((e=>t.$emit("changeMode")),["stop"])),onMousedown:s[2]||(s[2]=D((e=>t.$emit("mousedown")),["stop"])),onMouseup:s[3]||(s[3]=D((e=>t.$emit("mouseup")),["stop"]))},null,8,["icon"])):z("",!0)])]),(null==(u=e.item.children)?void 0:u.length)>0&&e.item.info.show_nodes?(S(),_("div",Ue,[Z(t.$slots,"default")])):z("",!0)],64)}}},Te={__name:"tree",props:{item:Object,index:Number,showGroupOnly:Boolean},emits:["dragstart","dragend","dragover","contextmenu","changeGroupMode","changeNodeMode","mousedown","mouseup"],setup:e=>(t,s)=>{var a,l,o,n;const i=G("Tree",!0);return S(),_("li",{onDragstart:s[10]||(s[10]=s=>t.$emit("dragstart",s,e.index)),onDragend:s[11]||(s[11]=s=>t.$emit("dragend",s,e.index)),onDragover:s[12]||(s[12]=s=>t.$emit("dragover",s,e.index)),draggable:!0,onContextmenu:s[13]||(s[13]=D((s=>t.$emit("contextmenu",s,e.item)),["stop"]))},[(null==(a=e.item.children)?void 0:a.length)||(null==(o=null==(l=e.item)?void 0:l.info)?void 0:o.sub_groups)?(S(),R(We,{key:0,item:e.item,onChangeMode:s[4]||(s[4]=s=>t.$emit("changeGroupMode",e.item)),onMousedown:s[5]||(s[5]=s=>t.$emit("mousedown",e.item,"group")),onMouseup:s[6]||(s[6]=e=>t.$emit("mouseup"))},{default:O((()=>[M("ol",null,[(S(!0),_(C,null,N(e.item.children,((a,l)=>(S(),R(i,{key:l,item:a,index:l,showGroupOnly:e.showGroupOnly,onDragstart:e=>t.$emit("dragstart",e,l),onDragend:e=>t.$emit("dragend",e,l),onDragover:e=>t.$emit("dragover",e,l),onContextmenu:e=>t.$emit("contextmenu",e,a),onChangeGroupMode:s[0]||(s[0]=e=>t.$emit("changeGroupMode",e)),onChangeNodeMode:s[1]||(s[1]=e=>t.$emit("changeNodeMode",e)),onMousedown:s[2]||(s[2]=e=>t.$emit("mousedown",e[0],e[1])),onMouseup:s[3]||(s[3]=e=>t.$emit("mouseup"))},null,8,["item","index","showGroupOnly","onDragstart","onDragend","onDragover","onContextmenu"])))),128))])])),_:1},8,["item"])):e.showGroupOnly?z("",!0):(S(),R(Le,{key:1,node:(null==(n=e.item)?void 0:n.info)||e.item,onChangeMode:s[7]||(s[7]=s=>{var a;return t.$emit("changeNodeMode",(null==(a=e.item)?void 0:a.info)||e.item)}),onMousedown:s[8]||(s[8]=s=>{var a;return t.$emit("mousedown",(null==(a=e.item)?void 0:a.info)||e.item,"node")}),onMouseup:s[9]||(s[9]=e=>t.$emit("mouseup"))},null,8,["node"]))],32)}},Fe={class:"title"},$e={class:"toolbar"},Xe={key:0},Je={key:1},qe={key:2,class:"no_result",style:{height:"100%"}},Ke="comfyui-easyuse-map-nodes",et={__name:"nodesMap",emits:["handleHeader"],setup(e){const a=u(),{groups_nodes:n,groups:i,nodes:d}=J(a),p=A((e=>t("EasyUse.NodesMap.DisplayGroupOnly"))),v=w(!1),m=e=>{v.value=!v.value,o.canvas.graph._groups.forEach((e=>{e.show_nodes=v.value})),a.setGroups(o.canvas.graph._groups)},g=w(""),h=A((e=>(null==d?void 0:d.value.filter((e=>{var t,s,a,l;return(null==(s=null==(t=e.id)?void 0:t.toString())?void 0:s.includes(g.value))||(null==(a=e.type)?void 0:a.includes(g.value))||(null==(l=e.title)?void 0:l.includes(g.value))})))||[])),y=w(null),f=w(!1),x=A((()=>f.value?[{label:s("Jump to this node"),icon:"pi pi-arrow-circle-right",visible:!0,command:()=>V(b.value)},{label:s("Rename node"),icon:"pi pi-file-edit",visible:!0,command:()=>Q(b.value)},{label:s("Delete node"),icon:"pi pi-trash",command:()=>L(b.value),visible:!0}]:[{label:s("Rename group"),icon:"pi pi-file-edit",visible:!0,command:()=>G(b.value)},{label:s("Delete group"),icon:"pi pi-trash",command:()=>P(b.value),visible:!0}])),b=w(null),I=(e,t)=>{b.value=t,f.value=!t.children,y.value.show(e)},V=e=>{r((null==e?void 0:e.info)?e.info.id:e.id)},Q=e=>{e.info?e.info.is_edit=!0:e.is_edit=!0},L=e=>{const t=e.info?e.info.id:e.id;o.canvas.graph.beforeChange(),o.canvas.graph._nodes.splice(o.canvas.graph._nodes.findIndex((e=>e.id==t)),1),o.canvas.graph.afterChange(),o.canvas.setDirty(!0,!0),a.setNodes(o.canvas.graph._nodes)},G=e=>{e.info.is_edit=!0},P=e=>{o.canvas.graph.beforeChange(),o.canvas.graph._groups.splice(o.canvas.graph._groups.findIndex((t=>t.id==e.info.id)),1),o.canvas.graph.afterChange(),o.canvas.setDirty(!0,!0),a.setGroups(o.canvas.graph._groups)};let Y,U=0,W=0,T=!1;const F=(e,t=!1)=>{if(T)return void(T=!1);const s=e.children.find((e=>e.mode==c.ALWAYS)),l=e.children.map((e=>e.id));o.canvas.graph._nodes.forEach((e=>{l.includes(e.id)&&(e.mode=s?t?c.NEVER:c.BYPASS:c.ALWAYS,e.graph.change())})),a.setNodes(o.canvas.graph._nodes)},$=(e,t=!1)=>{if(T)return void(T=!1);const s=e.mode==c.ALWAYS,l=o.canvas.graph._nodes.find((t=>t.id==e.id));l&&(l.mode=s?t?c.NEVER:c.BYPASS:c.ALWAYS,l.graph.change(),a.setNodes(o.canvas.graph._nodes))},X=(e,t="group")=>{U=(new Date).getTime(),clearTimeout(Y),Y=setTimeout((s=>{"group"==t?F(e,!0):$(e,!0)}),500)},K=e=>{W=(new Date).getTime(),W-U>500&&(T=!0),clearTimeout(Y)};let oe=w(null),ne=w(null);w(!1);const ie=(e,t)=>{oe.value=t,e.currentTarget.style.opacity="0.6",e.currentTarget.style.border="1px dashed yellow",e.dataTransfer.effectAllowed="move"},de=(e,n)=>{e.target.style.opacity="1",e.currentTarget.style.border="1px dashed transparent";if("Manual drag&drop sorting"!==t("EasyUse.NodesMap.Sorting"))return void l.warn(s("For drag and drop sorting, please find Nodes map sorting mode in Settings->EasyUse and change it to manual"));let i=o.canvas.graph._groups,d=i[oe.value],u=i[ne.value];o.canvas.graph._groups[oe.value]=u,o.canvas.graph._groups[ne.value]=d,a.setGroups(o.canvas.graph._groups)},ue=(e,t)=>{e.preventDefault(),e.currentIndex!=oe.value&&(ne.value=t)};return(e,t)=>{var a,l,o;return S(),_("div",{class:E(Ke)},[M("div",{class:E(Ke+"__header"),onMousedown:t[0]||(t[0]=t=>e.$emit("handleHeader",t))},[M("div",Fe,H(B(s)("NODES MAP")),1),M("div",$e,[(null==(a=B(i))?void 0:a.length)>0?k((S(),R(B(q),{key:0,icon:v.value?"pi pi-angle-double-down":"pi pi-angle-double-up",text:"",rounded:"",severity:"secondary",onClick:D(m,["stop"]),size:"small"},null,8,["icon"])),[[B(te),v.value?B(s)("Collapse All"):B(s)("Expand All"),void 0,{top:!0}]]):z("",!0),Z(e.$slots,"icon")])],34),M("div",{class:E(Ke+"__content")},[M("div",{class:E(Ke+"__content-searchbox")},[j(B(ae),null,{default:O((()=>[j(B(ee),{class:"search-box-input",modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),placeholder:B(s)("Search by Node ID/Name..."),variant:"outlined",style:{width:"100%"}},null,8,["modelValue","placeholder"]),g.value?(S(),R(B(se),{key:1,class:"pi pi-times",onClick:t[2]||(t[2]=e=>g.value="")})):(S(),R(B(se),{key:0,class:"pi pi-search"}))])),_:1})],2),(null==(l=h.value)?void 0:l.length)>0&&g.value?(S(),_("ul",Xe,[(S(!0),_(C,null,N(h.value,((e,t)=>(S(),_("li",{key:t},[j(Le,{node:e,onChangeMode:t=>$(e),onMousedown:t=>X(e,"node"),onMouseup:K},null,8,["node","onChangeMode","onMousedown"])])))),128))])):(null==(o=B(n))?void 0:o.length)>0&&!g.value?(S(),_("ul",Je,[(S(!0),_(C,null,N(B(n),((e,t)=>(S(),R(Te,{key:t,item:e,index:t,showGroupOnly:p.value,onDragstart:ie,onDragend:de,onDragover:ue,onContextmenu:I,onChangeGroupMode:F,onChangeNodeMode:$,onMousedown:X,onMouseup:K},null,8,["item","index","showGroupOnly"])))),128))])):(S(),_("div",qe,[j(Ve,{icon:"pi pi-sitemap",title:B(s)("No Nodes",!0),message:g.value?B(s)("No nodes found in the search"):B(s)("No nodes found in the map",!0)},null,8,["title","message"])]))],2),j(B(le),{ref_key:"menuRef",ref:y,model:x.value,autoZIndex:!1,appendTo:"self"},null,8,["model"])])}}},tt="comfyui-easyuse-toolbar",st={__name:"index",setup(e){const t=u(),a=w(!1);x((e=>a.value),(e=>{e?t.watchGraph(!0):t.unwatchGraph()}));const l=w(null),o=e=>{const t=l.value;var s=e.clientX||0,a=e.clientY||0,o=t.offsetLeft,n=t.offsetTop;function i(e){var l=e.clientX,i=e.clientY,d=l-s,u=i-a;t.style.left=o+d+"px",t.style.top=n+u+"px"}document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))};return(e,t)=>(S(),_(C,null,[M("div",{class:E(["flex-c",tt])},[M("div",{class:E(["group flex-c",tt+"-icon"]),onClick:t[0]||(t[0]=e=>a.value=!a.value)},t[3]||(t[3]=[M("svg",{class:"icon",t:"1714565543756",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22538",width:"200",height:"200"},[M("path",{d:"M871.616 64H152.384c-31.488 0-60.416 25.28-60.416 58.24v779.52c0 32.896 26.24 58.24 60.352 58.24h719.232c34.112 0 60.352-25.344 60.352-58.24V122.24c0.128-32.96-28.8-58.24-60.288-58.24zM286.272 512c-23.616 0-44.672-20.224-44.672-43.008 0-22.784 20.992-43.008 44.608-43.008 23.616 0 44.608 20.224 44.608 43.008A43.328 43.328 0 0 1 286.272 512z m0-202.496c-23.616 0-44.608-20.224-44.608-43.008 0-22.784 20.992-43.008 44.608-43.008 23.616 0 44.608 20.224 44.608 43.008a43.456 43.456 0 0 1-44.608 43.008zM737.728 512H435.904c-23.68 0-44.672-20.224-44.672-43.008 0-22.784 20.992-43.008 44.608-43.008h299.264c23.616 0 44.608 20.224 44.608 43.008a42.752 42.752 0 0 1-41.984 43.008z m0-202.496H435.904c-23.616 0-44.608-20.224-44.608-43.008 0-22.784 20.992-43.008 44.608-43.008h299.264c23.616 0 44.608 20.224 44.608 43.008a42.88 42.88 0 0 1-42.048 43.008z","p-id":"22539",fill:"currentColor"})],-1)]),2),M("div",{class:E(["rocket flex-c",tt+"-icon"]),onClick:t[1]||(t[1]=(...e)=>B(p)&&B(p)(...e))},t[4]||(t[4]=[M("svg",{class:"icon",t:"1714565020764",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7999",width:"200",height:"200"},[M("path",{d:"M810.438503 379.664884l-71.187166-12.777183C737.426025 180.705882 542.117647 14.602496 532.991087 7.301248c-12.777184-10.951872-32.855615-10.951872-47.45811 0-9.12656 7.301248-204.434938 175.229947-206.26025 359.586453l-67.536542 10.951871c-18.253119 3.650624-31.030303 18.253119-31.030303 36.506239v189.832442c0 10.951872 5.475936 21.903743 12.777184 27.379679 7.301248 5.475936 14.602496 9.12656 23.729055 9.12656h5.475936l133.247772-23.729055c40.156863 47.458111 91.265597 73.012478 151.500891 73.012477 60.235294 0 111.344029-27.379679 151.500891-74.837789l136.898396 23.729055h5.475936c9.12656 0 16.427807-3.650624 23.729055-9.12656 9.12656-7.301248 12.777184-16.427807 12.777184-27.379679V412.520499c1.825312-14.602496-10.951872-29.204991-27.379679-32.855615zM620.606061 766.631016H401.568627c-20.078431 0-36.506239 16.427807-36.506238 36.506239v109.518716c0 14.602496 9.12656 29.204991 23.729055 34.680927 14.602496 5.475936 31.030303 1.825312 40.156863-9.126559l16.427807-18.25312 32.855615 80.313726c5.475936 14.602496 18.253119 23.729055 34.680927 23.729055 16.427807 0 27.379679-9.12656 34.680927-23.729055l32.855615-80.313726 16.427807 18.25312c10.951872 10.951872 25.554367 14.602496 40.156863 9.126559 14.602496-5.475936 23.729055-18.253119 23.729055-34.680927v-109.518716c-3.650624-20.078431-20.078431-36.506239-40.156862-36.506239z",fill:"currentColor","p-id":"8000"})],-1)]),2)]),a.value?(S(),_("div",{key:0,ref_key:"nodesMapRef",ref:l,class:E(tt+"-nodes-map")},[j(et,{onHandleHeader:o},{icon:O((()=>[k(j(B(q),{icon:"pi pi-times",text:"",rounded:"",severity:"secondary",onClick:t[2]||(t[2]=e=>a.value=!1),size:"small"},null,512),[[B(te),B(s)("Close"),void 0,{top:!0}]])])),_:1})],2)):z("",!0)],64))}},at=X("fastCanvas",(()=>{const e=P(null),t=w([]);return{canvas:e,selectedItems:t,updateSelectedItems:()=>{var s;const a=Array.from((null==(s=e.value)?void 0:s.selectedItems)??[]);t.value=a.map((e=>Y(e)))},getCanvas:()=>(e.value||(e.value=o.canvas,e.value.render_canvas_border=!1),e.value)}}));function lt(e={}){const{useTransform:t=!1}=e,s=at().getCanvas(),{canvasPosToClientPos:a}=((e,t)=>{const{left:s,top:a}=ie(e);return{clientPosToCanvasPos:e=>{const{offset:l,scale:o}=t.ds;return[(e[0]-s.value)/o-l[0],(e[1]-a.value)/o-l[1]]},canvasPosToClientPos:e=>{const{offset:l,scale:o}=t.ds;return[(e[0]+l[0])*o+s.value,(e[1]+l[1])*o+a.value]}}})(s.canvas,s),l=w({pos:[0,0],size:[0,0]});return{style:A((()=>{const{pos:e,size:o,scale:n=s.ds.scale}=l.value,[i,d]=a(e),[u,r]=o;return t?{position:"fixed",transformOrigin:"0 0",transform:`scale(${n})`,left:`${i}px`,top:`${d}px`,width:`${u}px`,height:`${r}px`}:{position:"fixed",left:`${i}px`,top:`${d}px`,width:u*n+"px",height:r*n+"px"}})),updatePosition:e=>{l.value=e}}}const ot=(e={})=>{const t=w({}),{margin:s=4}=e,a=(e,t,a,l)=>{if(!a&&l){const{scale:a,offset:o}=l,n=function(e,t){const s=Math.max(e.x,t.x),a=Math.max(e.y,t.y),l=Math.min(e.x+e.width,t.x+t.width),o=Math.min(e.y+e.height,t.y+t.height);return s>=l||a>=o?null:[s,a,l-s,o-a]}({x:e.left-t.left,y:e.top-t.top,width:e.width,height:e.height},{x:(l.x+o[0]-s)*a,y:(l.y+o[1]-s)*a,width:(l.width+2*s)*a,height:(l.height+2*s)*a});if(!n)return"";const i=(n[0]-e.left+t.left)/a+"px",d=(n[1]-e.top+t.top)/a+"px",u=n[2]/a+"px",r=n[3]/a+"px";return`polygon(0% 0%, 0% 100%, ${i} 100%, ${i} ${d}, calc(${i} + ${u}) ${d}, calc(${i} + ${u}) calc(${d} + ${r}), ${i} calc(${d} + ${r}), ${i} 100%, 100% 100%, 100% 0%)`}return""};return{style:t,updateClipPath:(e,s,l,o)=>{const n=e.getBoundingClientRect(),i=s.getBoundingClientRect(),d=a(n,i,l,o);t.value={clipPath:d||"none",willChange:"clip-path"}}}},nt=["title"],it=((e,t)=>{const s=e.__vccOpts||e;for(const[a,l]of t)s[a]=l;return s})({__name:"domWidget",props:{widgetState:{type:Object,default:()=>({widget:{},visible:!0,readonly:!1,zIndex:0})}},emits:["update:widgetValue"],setup(e,{emit:s}){var a,l;const o=e.widgetState.widget,n=s,i=w(void 0),{style:d,updatePosition:u}=lt({useTransform:!0}),{style:r,updateClipPath:c}=ot(),p=A((()=>({...d.value,...h.value?r.value:{},zIndex:e.widgetState.zIndex,pointerEvents:e.widgetState.readonly||o.computedDisabled?"none":"auto",opacity:o.computedDisabled?.5:1}))),g=at(),h=A((e=>t("Comfy.DOMClippingEnabled")));if(x((()=>e.widgetState),(e=>{u(e),h.value&&(()=>{const e=g.canvas;if(!e||!i.value)return;const t=Object.values(e.selected_nodes??{})[0];if(!t)return;const s=t===o.node,a=null==t?void 0:t.renderArea,l=e.ds.offset,n=e.ds.scale,d=a?{x:a[0],y:a[1],width:a[2],height:a[3],scale:n,offset:[l[0],l[1]]}:void 0;c(i.value,e.canvas,s,d)})()}),{deep:!0}),x((()=>e.widgetState.visible),((e,t)=>{var s,a;!e&&t&&(null==(a=(s=o.options).onHide)||a.call(s,o))})),v(o)){o.element.blur&&de(document,"mousedown",(e=>{o.element.contains(e.target)||o.element.blur()}));for(const e of o.options.selectOn??["focus","click"])de(o.element,e,(()=>{const e=g.canvas;null==e||e.selectNode(o.node),null==e||e.bringToFront(o.node)}))}const y=o.node.constructor.nodeData,f=null==(l=null==(a=null==y?void 0:y.inputs)?void 0:a[o.name])?void 0:l.tooltip;return V((()=>{v(o)&&i.value&&i.value.appendChild(o.element)})),(t,s)=>k((S(),_("div",{ref_key:"widgetElement",ref:i,class:"dom-widget",title:B(f),style:Q(p.value)},[B(m)(B(o))?(S(),R(W(B(o).component),{key:0,"model-value":B(o).value,widget:B(o),"onUpdate:modelValue":s[0]||(s[0]=e=>n("update:widgetValue",e))},null,8,["model-value","widget"])):z("",!0)],12,nt)),[[U,e.widgetState.visible]])}},[["__scopeId","data-v-f8c9efe3"]]),dt={class:"isolate"},ut={__name:"domWidgets",setup(e){const t=at(),s=g(),a=A((()=>Array.from(s.widgetStates.values())));return x((()=>t.canvas),(e=>{e&&(e.onDrawForeground=h(e.onDrawForeground,(()=>{(()=>{var e;const a=t.canvas;if(!a)return;const l=a.low_quality;for(const t of s.widgetStates.values()){const s=t.widget,o=s.node,n=a.isNodeVisible(o)&&!(s.options.hideOnZoom&&l)&&s.isVisible();if(t.visible=n,n){const l=s.margin;t.pos=[o.pos[0]+l,o.pos[1]+l+s.y],t.size=[(s.width??o.width)-2*l,(s.computedHeight??50)-2*l],t.zIndex=(null==(e=a.graph)?void 0:e.nodes.indexOf(o))??-1,t.readonly=a.read_only}}})()})))}),{immediate:!0}),(e,t)=>(S(),_("div",dt,[(S(!0),_(C,null,N(a.value,(e=>(S(),R(it,{key:e.widget.id,"widget-state":e,"onUpdate:widgetValue":t=>e.widget.value=t},null,8,["widget-state","onUpdate:widgetValue"])))),128))]))}},rt={__name:"index",setup(e){const t=u();return V((e=>{t.watchGraph()})),(e,t)=>(S(),_("div",{class:E("comfyui-easyuse-map")},[j(et)]))}},ct="Comfy.UseNewMenu",pt={__name:"App",setup(e){const l=w(null);return V((e=>{try{(async()=>{t("EasyUse.NodesMap.Enable",null)&&o.extensionManager.registerSidebarTab({id:y,icon:"pi pi-sitemap",title:s("Nodes Map (shift + m)",!0),tooltip:s("Nodes Map (shift + m)",!0),type:"custom",render:e=>{e.style.height="100%",T(F(rt,{}),e)}});const e=await a.fetchApi("/easyuse/version");if(200===e.status){let t=await e.json();t.version&&o.registerExtension({name:"EasyUse Version",aboutPageBadges:[{label:"EasyUse v"+t.version,url:"https://github.com/yolain/ComfyUI-Easy-Use",icon:"pi pi-github"}]})}l.value=t(ct),f(ct,(e=>{l.value=e}))})()}catch(n){}})),(e,t)=>(S(),_(C,null,[j(Ne),t[0]||(t[0]=M("img",{id:"easyuse-model-thumbnail"},null,-1)),"Disabled"==l.value?(S(),R(st,{key:0})):z("",!0),j(ut)],64))}},vt=null==(e=document.getElementsByClassName("graph-canvas-container"))?void 0:e[0],mt=document.createElement("div");mt.id="comfyui-easyuse-components",vt?vt.append(mt):document.body.append(mt);const gt=$(pt);gt.use(ue),gt.use(oe()),gt.mount("#"+mt.id);
