import{x as e,y as t,j as n,o,n as i,i as l,C as r,R as u,e as a,S as s}from"./vue-CYk3Qk0T.js";function c(n){return!!e()&&(t(n),!0)}const v="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const f=e=>null!=e,d=Object.prototype.toString,p=e=>"[object Object]"===d.call(e);function m(e){return Array.isArray(e)?e:[e]}function h(e,t=!0,n){l()?o(e,n):t?e():i(e)}const w=v?window:void 0;function y(e){var t;const n=u(e);return null!=(t=null==n?void 0:n.$el)?t:n}function b(...e){const t=[],o=()=>{t.forEach((e=>e())),t.length=0},i=r((()=>{const t=m(u(e[0])).filter((e=>null!=e));return t.every((e=>"string"!=typeof e))?t:void 0})),l=(s=([e,n,i,l])=>{if(o(),!(null==e?void 0:e.length)||!(null==n?void 0:n.length)||!(null==i?void 0:i.length))return;const r=p(l)?{...l}:l;t.push(...e.flatMap((e=>n.flatMap((t=>i.map((n=>((e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)))(e,t,n,r))))))))},v={flush:"post"},n((()=>{var t,n;return[null!=(n=null==(t=i.value)?void 0:t.map((e=>y(e))))?n:[w].filter((e=>null!=e)),m(u(i.value?e[1]:e[0])),m(a(i.value?e[2]:e[1])),u(i.value?e[3]:e[2])]}),s,{...v,immediate:!0}));var s,v;return c(o),()=>{l(),o()}}function g(e){const t=function(){const e=s(!1),t=l();return t&&o((()=>{e.value=!0}),t),e}();return r((()=>(t.value,Boolean(e()))))}function O(e,t={}){const{reset:o=!0,windowResize:i=!0,windowScroll:l=!0,immediate:a=!0,updateTiming:v="sync"}=t,d=s(0),p=s(0),O=s(0),S=s(0),j=s(0),x=s(0),z=s(0),A=s(0);function R(){const t=y(e);if(!t)return void(o&&(d.value=0,p.value=0,O.value=0,S.value=0,j.value=0,x.value=0,z.value=0,A.value=0));const n=t.getBoundingClientRect();d.value=n.height,p.value=n.bottom,O.value=n.left,S.value=n.right,j.value=n.top,x.value=n.width,z.value=n.x,A.value=n.y}function E(){"sync"===v?R():"next-frame"===v&&requestAnimationFrame((()=>R()))}return function(e,t,o={}){const{window:i=w,...l}=o;let a;const s=g((()=>i&&"ResizeObserver"in i)),v=()=>{a&&(a.disconnect(),a=void 0)},f=r((()=>{const t=u(e);return Array.isArray(t)?t.map((e=>y(e))):[y(t)]})),d=n(f,(e=>{if(v(),s.value&&i){a=new ResizeObserver(t);for(const t of e)t&&a.observe(t,l)}}),{immediate:!0,flush:"post"}),p=()=>{v(),d()};c(p)}(e,E),n((()=>y(e)),(e=>!e&&E())),function(e,t,o={}){const{window:i=w,...l}=o;let a;const s=g((()=>i&&"MutationObserver"in i)),v=()=>{a&&(a.disconnect(),a=void 0)},d=r((()=>{const t=m(u(e)).map(y).filter(f);return new Set(t)})),p=n((()=>d.value),(e=>{v(),s.value&&e.size&&(a=new MutationObserver(t),e.forEach((e=>a.observe(e,l))))}),{immediate:!0,flush:"post"}),h=()=>{p(),v()};c(h)}(e,E,{attributeFilter:["style","class"]}),l&&b("scroll",E,{capture:!0,passive:!0}),i&&b("resize",E,{passive:!0}),h((()=>{a&&E()})),{height:d,bottom:p,left:O,right:S,top:j,width:x,x:z,y:A,update:E}}export{b as a,O as u};
