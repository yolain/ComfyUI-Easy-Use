import{I as e,J as t,o as n,A as o,w as s,z as l,V as u,h as r,W as i,X as a,u as c}from"./vue-Cu3MA6TM.js";function v(n){return!!e()&&(t(n),!0)}const d="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const f=e=>null!=e,p=Object.prototype.toString,m=e=>"[object Object]"===p.call(e),h=()=>{};function g(e){return Array.isArray(e)?e:[e]}function w(e,t=!0,s){l()?n(e,s):t?e():o(e)}const y=d?window:void 0;function b(e){var t;const n=i(e);return null!=(t=null==n?void 0:n.$el)?t:n}function O(...e){const t=[],n=()=>{t.forEach((e=>e())),t.length=0},o=r((()=>{const t=g(i(e[0])).filter((e=>null!=e));return t.every((e=>"string"!=typeof e))?t:void 0})),l=(u=([e,o,s,l])=>{if(n(),!(null==e?void 0:e.length)||!(null==o?void 0:o.length)||!(null==s?void 0:s.length))return;const u=m(l)?{...l}:l;t.push(...e.flatMap((e=>o.flatMap((t=>s.map((n=>((e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)))(e,t,n,u))))))))},a={flush:"post"},s((()=>{var t,n;return[null!=(n=null==(t=o.value)?void 0:t.map((e=>b(e))))?n:[y].filter((e=>null!=e)),g(i(o.value?e[1]:e[0])),g(c(o.value?e[2]:e[1])),i(o.value?e[3]:e[2])]}),u,{...a,immediate:!0}));var u,a;return v(n),()=>{l(),n()}}function E(e){const t=function(){const e=u(!1),t=l();return t&&n((()=>{e.value=!0}),t),e}();return r((()=>(t.value,Boolean(e()))))}function X(e,t,n={}){const{window:o=y,...l}=n;let u;const a=E((()=>o&&"MutationObserver"in o)),c=()=>{u&&(u.disconnect(),u=void 0)},d=r((()=>{const t=g(i(e)).map(b).filter(f);return new Set(t)})),p=s((()=>d.value),(e=>{c(),a.value&&e.size&&(u=new MutationObserver(t),e.forEach((e=>u.observe(e,l))))}),{immediate:!0,flush:"post"}),m=()=>{p(),c()};return v(m),{isSupported:a,stop:m,takeRecords:()=>null==u?void 0:u.takeRecords()}}function Y(e,t={}){const{delayEnter:n=0,delayLeave:o=0,triggerOnRemoval:s=!1,window:l=y}=t,i=u(!1);let c;const d=e=>{const t=e?n:o;c&&(clearTimeout(c),c=void 0),t?c=setTimeout((()=>i.value=e),t):i.value=e};return l?(O(e,"mouseenter",(()=>d(!0)),{passive:!0}),O(e,"mouseleave",(()=>d(!1)),{passive:!0}),s&&function(e,t,n={}){const{window:o=y,document:s=(null==o?void 0:o.document),flush:l="sync"}=n;if(!o||!s)return h;let u;const r=e=>{null==u||u(),u=e},i=a((()=>{const n=b(e);if(n){const{stop:e}=X(s,(e=>{e.map((e=>[...e.removedNodes])).flat().some((e=>e===n||e.contains(n)))&&t(e)}),{window:o,childList:!0,subtree:!0});r(e)}}),{flush:l}),c=()=>{i(),r()};v(c)}(r((()=>b(e))),(()=>d(!1))),i):i}function x(e,t,n={}){const{root:o,rootMargin:l="0px",threshold:a=0,window:c=y,immediate:d=!0}=n,p=E((()=>c&&"IntersectionObserver"in c)),m=r((()=>g(i(e)).map(b).filter(f)));let w=h;const O=u(d),X=p.value?s((()=>[m.value,b(o),O.value]),(([e,n])=>{if(w(),!O.value)return;if(!e.length)return;const o=new IntersectionObserver(t,{root:b(n),rootMargin:l,threshold:a});e.forEach((e=>e&&o.observe(e))),w=()=>{o.disconnect(),w=h}}),{immediate:d,flush:"post"}):h,Y=()=>{w(),X(),O.value=!1};return v(Y),{isSupported:p,isActive:O,pause(){w(),O.value=!1},resume(){O.value=!0},stop:Y}}const M={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function S(e,t={}){const{windowResize:n=!0,windowScroll:o=!0,handleOutside:l=!0,window:a=y}=t,c=t.type||"page",{x:d,y:f,sourceType:p}=function(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:o=!1,initialValue:s={x:0,y:0},window:l=y,target:r=l,scroll:i=!0,eventFilter:a}=e;let c=null,v=0,d=0;const f=u(s.x),p=u(s.y),m=u(null),h="function"==typeof t?t:M[t],g=e=>{const t=h(e);c=e,t&&([f.value,p.value]=t,m.value="mouse"),l&&(v=l.scrollX,d=l.scrollY)},w=e=>{if(e.touches.length>0){const t=h(e.touches[0]);t&&([f.value,p.value]=t,m.value="touch")}},b=()=>{if(!c||!l)return;const e=h(c);c instanceof MouseEvent&&e&&(f.value=e[0]+l.scrollX-v,p.value=e[1]+l.scrollY-d)},E=()=>{f.value=s.x,p.value=s.y},X=a?e=>a((()=>g(e)),{}):e=>g(e),Y=a?e=>a((()=>w(e)),{}):e=>w(e),x=a?()=>a((()=>b()),{}):()=>b();if(r){const e={passive:!0};O(r,["mousemove","dragover"],X,e),n&&"movement"!==t&&(O(r,["touchstart","touchmove"],Y,e),o&&O(r,"touchend",E,e)),i&&"page"===t&&O(l,"scroll",x,e)}return{x:f,y:p,sourceType:m}}(t),m=u(null!=e?e:null==a?void 0:a.document.body),h=u(0),g=u(0),Y=u(0),x=u(0),S=u(0),R=u(0),T=u(!0);function z(){if(!a)return;const e=b(m);if(!(e&&e instanceof Element))return;const{left:t,top:n,width:o,height:s}=e.getBoundingClientRect();Y.value=t+("page"===c?a.pageXOffset:0),x.value=n+("page"===c?a.pageYOffset:0),S.value=s,R.value=o;const u=d.value-Y.value,r=f.value-x.value;T.value=0===o||0===s||u<0||r<0||u>o||r>s,l&&(h.value=u,g.value=r)}const A=[];if(w((()=>{z()})),a){const{stop:e}=function(e,t,n={}){const{window:o=y,...l}=n;let u;const a=E((()=>o&&"ResizeObserver"in o)),c=()=>{u&&(u.disconnect(),u=void 0)},d=r((()=>{const t=i(e);return Array.isArray(t)?t.map((e=>b(e))):[b(t)]})),f=s(d,(e=>{if(c(),a.value&&o){u=new ResizeObserver(t);for(const t of e)t&&u.observe(t,l)}}),{immediate:!0,flush:"post"}),p=()=>{c(),f()};return v(p),{isSupported:a,stop:p}}(m,z),{stop:t}=X(m,z,{attributeFilter:["style","class"]}),l=s([m,d,f],z);A.push(e,t,l),O(document,"mouseleave",(()=>T.value=!0),{passive:!0}),o&&A.push(O("scroll",z,{capture:!0,passive:!0})),n&&A.push(O("resize",z,{passive:!0}))}return{x:d,y:f,sourceType:p,elementX:h,elementY:g,elementPositionX:Y,elementPositionY:x,elementHeight:S,elementWidth:R,isOutside:T,stop:function(){A.forEach((e=>e())),A.length=0}}}export{x as a,S as b,Y as c,O as u};
